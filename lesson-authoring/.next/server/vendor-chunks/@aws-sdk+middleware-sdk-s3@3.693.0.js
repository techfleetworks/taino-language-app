"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@aws-sdk+middleware-sdk-s3@3.693.0";
exports.ids = ["vendor-chunks/@aws-sdk+middleware-sdk-s3@3.693.0"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js ***!
  \*************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS: () => NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,\n  S3ExpressIdentityCache: () => S3ExpressIdentityCache,\n  S3ExpressIdentityCacheEntry: () => S3ExpressIdentityCacheEntry,\n  S3ExpressIdentityProviderImpl: () => S3ExpressIdentityProviderImpl,\n  SignatureV4S3Express: () => SignatureV4S3Express,\n  checkContentLengthHeader: () => checkContentLengthHeader,\n  checkContentLengthHeaderMiddlewareOptions: () => checkContentLengthHeaderMiddlewareOptions,\n  getCheckContentLengthHeaderPlugin: () => getCheckContentLengthHeaderPlugin,\n  getRegionRedirectMiddlewarePlugin: () => getRegionRedirectMiddlewarePlugin,\n  getS3ExpiresMiddlewarePlugin: () => getS3ExpiresMiddlewarePlugin,\n  getS3ExpressHttpSigningPlugin: () => getS3ExpressHttpSigningPlugin,\n  getS3ExpressPlugin: () => getS3ExpressPlugin,\n  getThrow200ExceptionsPlugin: () => getThrow200ExceptionsPlugin,\n  getValidateBucketNamePlugin: () => getValidateBucketNamePlugin,\n  regionRedirectEndpointMiddleware: () => regionRedirectEndpointMiddleware,\n  regionRedirectEndpointMiddlewareOptions: () => regionRedirectEndpointMiddlewareOptions,\n  regionRedirectMiddleware: () => regionRedirectMiddleware,\n  regionRedirectMiddlewareOptions: () => regionRedirectMiddlewareOptions,\n  resolveS3Config: () => resolveS3Config,\n  s3ExpiresMiddleware: () => s3ExpiresMiddleware,\n  s3ExpiresMiddlewareOptions: () => s3ExpiresMiddlewareOptions,\n  s3ExpressHttpSigningMiddleware: () => s3ExpressHttpSigningMiddleware,\n  s3ExpressHttpSigningMiddlewareOptions: () => s3ExpressHttpSigningMiddlewareOptions,\n  s3ExpressMiddleware: () => s3ExpressMiddleware,\n  s3ExpressMiddlewareOptions: () => s3ExpressMiddlewareOptions,\n  throw200ExceptionsMiddleware: () => throw200ExceptionsMiddleware,\n  throw200ExceptionsMiddlewareOptions: () => throw200ExceptionsMiddlewareOptions,\n  validateBucketNameMiddleware: () => validateBucketNameMiddleware,\n  validateBucketNameMiddlewareOptions: () => validateBucketNameMiddlewareOptions\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/check-content-length-header.ts\nvar import_protocol_http = __webpack_require__(/*! @smithy/protocol-http */ \"(rsc)/./node_modules/.pnpm/@smithy+protocol-http@4.1.7/node_modules/@smithy/protocol-http/dist-es/index.js\");\nvar import_smithy_client = __webpack_require__(/*! @smithy/smithy-client */ \"(rsc)/./node_modules/.pnpm/@smithy+smithy-client@3.4.4/node_modules/@smithy/smithy-client/dist-es/index.js\");\nvar CONTENT_LENGTH_HEADER = \"content-length\";\nfunction checkContentLengthHeader() {\n  return (next, context) => async (args) => {\n    var _a;\n    const { request } = args;\n    if (import_protocol_http.HttpRequest.isInstance(request)) {\n      if (!(CONTENT_LENGTH_HEADER in request.headers)) {\n        const message = `Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.`;\n        if (typeof ((_a = context == null ? void 0 : context.logger) == null ? void 0 : _a.warn) === \"function\" && !(context.logger instanceof import_smithy_client.NoOpLogger)) {\n          context.logger.warn(message);\n        } else {\n          console.warn(message);\n        }\n      }\n    }\n    return next({ ...args });\n  };\n}\n__name(checkContentLengthHeader, \"checkContentLengthHeader\");\nvar checkContentLengthHeaderMiddlewareOptions = {\n  step: \"finalizeRequest\",\n  tags: [\"CHECK_CONTENT_LENGTH_HEADER\"],\n  name: \"getCheckContentLengthHeaderPlugin\",\n  override: true\n};\nvar getCheckContentLengthHeaderPlugin = /* @__PURE__ */ __name((unused) => ({\n  applyToStack: (clientStack) => {\n    clientStack.add(checkContentLengthHeader(), checkContentLengthHeaderMiddlewareOptions);\n  }\n}), \"getCheckContentLengthHeaderPlugin\");\n\n// src/region-redirect-endpoint-middleware.ts\nvar regionRedirectEndpointMiddleware = /* @__PURE__ */ __name((config) => {\n  return (next, context) => async (args) => {\n    const originalRegion = await config.region();\n    const regionProviderRef = config.region;\n    let unlock = /* @__PURE__ */ __name(() => {\n    }, \"unlock\");\n    if (context.__s3RegionRedirect) {\n      Object.defineProperty(config, \"region\", {\n        writable: false,\n        value: async () => {\n          return context.__s3RegionRedirect;\n        }\n      });\n      unlock = /* @__PURE__ */ __name(() => Object.defineProperty(config, \"region\", {\n        writable: true,\n        value: regionProviderRef\n      }), \"unlock\");\n    }\n    try {\n      const result = await next(args);\n      if (context.__s3RegionRedirect) {\n        unlock();\n        const region = await config.region();\n        if (originalRegion !== region) {\n          throw new Error(\"Region was not restored following S3 region redirect.\");\n        }\n      }\n      return result;\n    } catch (e) {\n      unlock();\n      throw e;\n    }\n  };\n}, \"regionRedirectEndpointMiddleware\");\nvar regionRedirectEndpointMiddlewareOptions = {\n  tags: [\"REGION_REDIRECT\", \"S3\"],\n  name: \"regionRedirectEndpointMiddleware\",\n  override: true,\n  relation: \"before\",\n  toMiddleware: \"endpointV2Middleware\"\n};\n\n// src/region-redirect-middleware.ts\nfunction regionRedirectMiddleware(clientConfig) {\n  return (next, context) => async (args) => {\n    var _a, _b, _c;\n    try {\n      return await next(args);\n    } catch (err) {\n      if (clientConfig.followRegionRedirects) {\n        if (((_a = err == null ? void 0 : err.$metadata) == null ? void 0 : _a.httpStatusCode) === 301 || // err.name === \"PermanentRedirect\" && --> removing the error name check, as that allows for HEAD operations (which have the 301 status code, but not the same error name) to be covered for region redirection as well\n        ((_b = err == null ? void 0 : err.$metadata) == null ? void 0 : _b.httpStatusCode) === 400 && (err == null ? void 0 : err.name) === \"IllegalLocationConstraintException\") {\n          try {\n            const actualRegion = err.$response.headers[\"x-amz-bucket-region\"];\n            (_c = context.logger) == null ? void 0 : _c.debug(`Redirecting from ${await clientConfig.region()} to ${actualRegion}`);\n            context.__s3RegionRedirect = actualRegion;\n          } catch (e) {\n            throw new Error(\"Region redirect failed: \" + e);\n          }\n          return next(args);\n        }\n      }\n      throw err;\n    }\n  };\n}\n__name(regionRedirectMiddleware, \"regionRedirectMiddleware\");\nvar regionRedirectMiddlewareOptions = {\n  step: \"initialize\",\n  tags: [\"REGION_REDIRECT\", \"S3\"],\n  name: \"regionRedirectMiddleware\",\n  override: true\n};\nvar getRegionRedirectMiddlewarePlugin = /* @__PURE__ */ __name((clientConfig) => ({\n  applyToStack: (clientStack) => {\n    clientStack.add(regionRedirectMiddleware(clientConfig), regionRedirectMiddlewareOptions);\n    clientStack.addRelativeTo(regionRedirectEndpointMiddleware(clientConfig), regionRedirectEndpointMiddlewareOptions);\n  }\n}), \"getRegionRedirectMiddlewarePlugin\");\n\n// src/s3-expires-middleware.ts\n\n\nvar s3ExpiresMiddleware = /* @__PURE__ */ __name((config) => {\n  return (next, context) => async (args) => {\n    var _a;\n    const result = await next(args);\n    const { response } = result;\n    if (import_protocol_http.HttpResponse.isInstance(response)) {\n      if (response.headers.expires) {\n        response.headers.expiresstring = response.headers.expires;\n        try {\n          (0, import_smithy_client.parseRfc7231DateTime)(response.headers.expires);\n        } catch (e) {\n          (_a = context.logger) == null ? void 0 : _a.warn(\n            `AWS SDK Warning for ${context.clientName}::${context.commandName} response parsing (${response.headers.expires}): ${e}`\n          );\n          delete response.headers.expires;\n        }\n      }\n    }\n    return result;\n  };\n}, \"s3ExpiresMiddleware\");\nvar s3ExpiresMiddlewareOptions = {\n  tags: [\"S3\"],\n  name: \"s3ExpiresMiddleware\",\n  override: true,\n  relation: \"after\",\n  toMiddleware: \"deserializerMiddleware\"\n};\nvar getS3ExpiresMiddlewarePlugin = /* @__PURE__ */ __name((clientConfig) => ({\n  applyToStack: (clientStack) => {\n    clientStack.addRelativeTo(s3ExpiresMiddleware(clientConfig), s3ExpiresMiddlewareOptions);\n  }\n}), \"getS3ExpiresMiddlewarePlugin\");\n\n// src/s3-express/classes/S3ExpressIdentityCache.ts\nvar _S3ExpressIdentityCache = class _S3ExpressIdentityCache {\n  constructor(data = {}) {\n    this.data = data;\n    this.lastPurgeTime = Date.now();\n  }\n  get(key) {\n    const entry = this.data[key];\n    if (!entry) {\n      return;\n    }\n    return entry;\n  }\n  set(key, entry) {\n    this.data[key] = entry;\n    return entry;\n  }\n  delete(key) {\n    delete this.data[key];\n  }\n  async purgeExpired() {\n    const now = Date.now();\n    if (this.lastPurgeTime + _S3ExpressIdentityCache.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS > now) {\n      return;\n    }\n    for (const key in this.data) {\n      const entry = this.data[key];\n      if (!entry.isRefreshing) {\n        const credential = await entry.identity;\n        if (credential.expiration) {\n          if (credential.expiration.getTime() < now) {\n            delete this.data[key];\n          }\n        }\n      }\n    }\n  }\n};\n__name(_S3ExpressIdentityCache, \"S3ExpressIdentityCache\");\n_S3ExpressIdentityCache.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS = 3e4;\nvar S3ExpressIdentityCache = _S3ExpressIdentityCache;\n\n// src/s3-express/classes/S3ExpressIdentityCacheEntry.ts\nvar _S3ExpressIdentityCacheEntry = class _S3ExpressIdentityCacheEntry {\n  /**\n   * @param identity - stored identity.\n   * @param accessed - timestamp of last access in epoch ms.\n   * @param isRefreshing - this key is currently in the process of being refreshed (background).\n   */\n  constructor(_identity, isRefreshing = false, accessed = Date.now()) {\n    this._identity = _identity;\n    this.isRefreshing = isRefreshing;\n    this.accessed = accessed;\n  }\n  get identity() {\n    this.accessed = Date.now();\n    return this._identity;\n  }\n};\n__name(_S3ExpressIdentityCacheEntry, \"S3ExpressIdentityCacheEntry\");\nvar S3ExpressIdentityCacheEntry = _S3ExpressIdentityCacheEntry;\n\n// src/s3-express/classes/S3ExpressIdentityProviderImpl.ts\nvar _S3ExpressIdentityProviderImpl = class _S3ExpressIdentityProviderImpl {\n  constructor(createSessionFn, cache = new S3ExpressIdentityCache()) {\n    this.createSessionFn = createSessionFn;\n    this.cache = cache;\n  }\n  async getS3ExpressIdentity(awsIdentity, identityProperties) {\n    const key = identityProperties.Bucket;\n    const { cache } = this;\n    const entry = cache.get(key);\n    if (entry) {\n      return entry.identity.then((identity) => {\n        var _a, _b;\n        const isExpired = (((_a = identity.expiration) == null ? void 0 : _a.getTime()) ?? 0) < Date.now();\n        if (isExpired) {\n          return cache.set(key, new S3ExpressIdentityCacheEntry(this.getIdentity(key))).identity;\n        }\n        const isExpiringSoon = (((_b = identity.expiration) == null ? void 0 : _b.getTime()) ?? 0) < Date.now() + _S3ExpressIdentityProviderImpl.REFRESH_WINDOW_MS;\n        if (isExpiringSoon && !entry.isRefreshing) {\n          entry.isRefreshing = true;\n          this.getIdentity(key).then((id) => {\n            cache.set(key, new S3ExpressIdentityCacheEntry(Promise.resolve(id)));\n          });\n        }\n        return identity;\n      });\n    }\n    return cache.set(key, new S3ExpressIdentityCacheEntry(this.getIdentity(key))).identity;\n  }\n  async getIdentity(key) {\n    var _a, _b;\n    await this.cache.purgeExpired().catch((error) => {\n      console.warn(\"Error while clearing expired entries in S3ExpressIdentityCache: \\n\" + error);\n    });\n    const session = await this.createSessionFn(key);\n    if (!((_a = session.Credentials) == null ? void 0 : _a.AccessKeyId) || !((_b = session.Credentials) == null ? void 0 : _b.SecretAccessKey)) {\n      throw new Error(\"s3#createSession response credential missing AccessKeyId or SecretAccessKey.\");\n    }\n    const identity = {\n      accessKeyId: session.Credentials.AccessKeyId,\n      secretAccessKey: session.Credentials.SecretAccessKey,\n      sessionToken: session.Credentials.SessionToken,\n      expiration: session.Credentials.Expiration ? new Date(session.Credentials.Expiration) : void 0\n    };\n    return identity;\n  }\n};\n__name(_S3ExpressIdentityProviderImpl, \"S3ExpressIdentityProviderImpl\");\n_S3ExpressIdentityProviderImpl.REFRESH_WINDOW_MS = 6e4;\nvar S3ExpressIdentityProviderImpl = _S3ExpressIdentityProviderImpl;\n\n// src/s3-express/classes/SignatureV4S3Express.ts\nvar import_signature_v4 = __webpack_require__(/*! @smithy/signature-v4 */ \"(rsc)/./node_modules/.pnpm/@smithy+signature-v4@4.2.3/node_modules/@smithy/signature-v4/dist-es/index.js\");\n\n// src/s3-express/constants.ts\nvar import_util_config_provider = __webpack_require__(/*! @smithy/util-config-provider */ \"(rsc)/./node_modules/.pnpm/@smithy+util-config-provider@3.0.0/node_modules/@smithy/util-config-provider/dist-es/index.js\");\nvar S3_EXPRESS_BUCKET_TYPE = \"Directory\";\nvar S3_EXPRESS_BACKEND = \"S3Express\";\nvar S3_EXPRESS_AUTH_SCHEME = \"sigv4-s3express\";\nvar SESSION_TOKEN_QUERY_PARAM = \"X-Amz-S3session-Token\";\nvar SESSION_TOKEN_HEADER = SESSION_TOKEN_QUERY_PARAM.toLowerCase();\nvar NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME = \"AWS_S3_DISABLE_EXPRESS_SESSION_AUTH\";\nvar NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME = \"s3_disable_express_session_auth\";\nvar NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS = {\n  environmentVariableSelector: (env) => (0, import_util_config_provider.booleanSelector)(env, NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME, import_util_config_provider.SelectorType.ENV),\n  configFileSelector: (profile) => (0, import_util_config_provider.booleanSelector)(profile, NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME, import_util_config_provider.SelectorType.CONFIG),\n  default: false\n};\n\n// src/s3-express/classes/SignatureV4S3Express.ts\nvar _SignatureV4S3Express = class _SignatureV4S3Express extends import_signature_v4.SignatureV4 {\n  /**\n   * Signs with alternate provided credentials instead of those provided in the\n   * constructor.\n   *\n   * Additionally omits the credential sessionToken and assigns it to the\n   * alternate header field for S3 Express.\n   */\n  async signWithCredentials(requestToSign, credentials, options) {\n    const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);\n    requestToSign.headers[SESSION_TOKEN_HEADER] = credentials.sessionToken;\n    const privateAccess = this;\n    setSingleOverride(privateAccess, credentialsWithoutSessionToken);\n    return privateAccess.signRequest(requestToSign, options ?? {});\n  }\n  /**\n   * Similar to {@link SignatureV4S3Express#signWithCredentials} but for presigning.\n   */\n  async presignWithCredentials(requestToSign, credentials, options) {\n    const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);\n    delete requestToSign.headers[SESSION_TOKEN_HEADER];\n    requestToSign.headers[SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;\n    requestToSign.query = requestToSign.query ?? {};\n    requestToSign.query[SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;\n    const privateAccess = this;\n    setSingleOverride(privateAccess, credentialsWithoutSessionToken);\n    return this.presign(requestToSign, options);\n  }\n};\n__name(_SignatureV4S3Express, \"SignatureV4S3Express\");\nvar SignatureV4S3Express = _SignatureV4S3Express;\nfunction getCredentialsWithoutSessionToken(credentials) {\n  const credentialsWithoutSessionToken = {\n    accessKeyId: credentials.accessKeyId,\n    secretAccessKey: credentials.secretAccessKey,\n    expiration: credentials.expiration\n  };\n  return credentialsWithoutSessionToken;\n}\n__name(getCredentialsWithoutSessionToken, \"getCredentialsWithoutSessionToken\");\nfunction setSingleOverride(privateAccess, credentialsWithoutSessionToken) {\n  const id = setTimeout(() => {\n    throw new Error(\"SignatureV4S3Express credential override was created but not called.\");\n  }, 10);\n  const currentCredentialProvider = privateAccess.credentialProvider;\n  const overrideCredentialsProviderOnce = /* @__PURE__ */ __name(() => {\n    clearTimeout(id);\n    privateAccess.credentialProvider = currentCredentialProvider;\n    return Promise.resolve(credentialsWithoutSessionToken);\n  }, \"overrideCredentialsProviderOnce\");\n  privateAccess.credentialProvider = overrideCredentialsProviderOnce;\n}\n__name(setSingleOverride, \"setSingleOverride\");\n\n// src/s3-express/functions/s3ExpressMiddleware.ts\nvar import_core = __webpack_require__(/*! @aws-sdk/core */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+core@3.693.0/node_modules/@aws-sdk/core/dist-es/index.js\");\n\nvar s3ExpressMiddleware = /* @__PURE__ */ __name((options) => {\n  return (next, context) => async (args) => {\n    var _a, _b, _c, _d, _e;\n    if (context.endpointV2) {\n      const endpoint = context.endpointV2;\n      const isS3ExpressAuth = ((_c = (_b = (_a = endpoint.properties) == null ? void 0 : _a.authSchemes) == null ? void 0 : _b[0]) == null ? void 0 : _c.name) === S3_EXPRESS_AUTH_SCHEME;\n      const isS3ExpressBucket = ((_d = endpoint.properties) == null ? void 0 : _d.backend) === S3_EXPRESS_BACKEND || ((_e = endpoint.properties) == null ? void 0 : _e.bucketType) === S3_EXPRESS_BUCKET_TYPE;\n      if (isS3ExpressBucket) {\n        (0, import_core.setFeature)(context, \"S3_EXPRESS_BUCKET\", \"J\");\n        context.isS3ExpressBucket = true;\n      }\n      if (isS3ExpressAuth) {\n        const requestBucket = args.input.Bucket;\n        if (requestBucket) {\n          const s3ExpressIdentity = await options.s3ExpressIdentityProvider.getS3ExpressIdentity(\n            await options.credentials(),\n            {\n              Bucket: requestBucket\n            }\n          );\n          context.s3ExpressIdentity = s3ExpressIdentity;\n          if (import_protocol_http.HttpRequest.isInstance(args.request) && s3ExpressIdentity.sessionToken) {\n            args.request.headers[SESSION_TOKEN_HEADER] = s3ExpressIdentity.sessionToken;\n          }\n        }\n      }\n    }\n    return next(args);\n  };\n}, \"s3ExpressMiddleware\");\nvar s3ExpressMiddlewareOptions = {\n  name: \"s3ExpressMiddleware\",\n  step: \"build\",\n  tags: [\"S3\", \"S3_EXPRESS\"],\n  override: true\n};\nvar getS3ExpressPlugin = /* @__PURE__ */ __name((options) => ({\n  applyToStack: (clientStack) => {\n    clientStack.add(s3ExpressMiddleware(options), s3ExpressMiddlewareOptions);\n  }\n}), \"getS3ExpressPlugin\");\n\n// src/s3-express/functions/s3ExpressHttpSigningMiddleware.ts\nvar import_core2 = __webpack_require__(/*! @smithy/core */ \"(rsc)/./node_modules/.pnpm/@smithy+core@2.5.3/node_modules/@smithy/core/dist-es/index.js\");\n\nvar import_util_middleware = __webpack_require__(/*! @smithy/util-middleware */ \"(rsc)/./node_modules/.pnpm/@smithy+util-middleware@3.0.10/node_modules/@smithy/util-middleware/dist-es/index.js\");\n\n// src/s3-express/functions/signS3Express.ts\nvar signS3Express = /* @__PURE__ */ __name(async (s3ExpressIdentity, signingOptions, request, sigV4MultiRegionSigner) => {\n  const signedRequest = await sigV4MultiRegionSigner.signWithCredentials(request, s3ExpressIdentity, {});\n  if (signedRequest.headers[\"X-Amz-Security-Token\"] || signedRequest.headers[\"x-amz-security-token\"]) {\n    throw new Error(\"X-Amz-Security-Token must not be set for s3-express requests.\");\n  }\n  return signedRequest;\n}, \"signS3Express\");\n\n// src/s3-express/functions/s3ExpressHttpSigningMiddleware.ts\nvar defaultErrorHandler = /* @__PURE__ */ __name((signingProperties) => (error) => {\n  throw error;\n}, \"defaultErrorHandler\");\nvar defaultSuccessHandler = /* @__PURE__ */ __name((httpResponse, signingProperties) => {\n}, \"defaultSuccessHandler\");\nvar s3ExpressHttpSigningMiddlewareOptions = import_core2.httpSigningMiddlewareOptions;\nvar s3ExpressHttpSigningMiddleware = /* @__PURE__ */ __name((config) => (next, context) => async (args) => {\n  if (!import_protocol_http.HttpRequest.isInstance(args.request)) {\n    return next(args);\n  }\n  const smithyContext = (0, import_util_middleware.getSmithyContext)(context);\n  const scheme = smithyContext.selectedHttpAuthScheme;\n  if (!scheme) {\n    throw new Error(`No HttpAuthScheme was selected: unable to sign request`);\n  }\n  const {\n    httpAuthOption: { signingProperties = {} },\n    identity,\n    signer\n  } = scheme;\n  let request;\n  if (context.s3ExpressIdentity) {\n    request = await signS3Express(\n      context.s3ExpressIdentity,\n      signingProperties,\n      args.request,\n      await config.signer()\n    );\n  } else {\n    request = await signer.sign(args.request, identity, signingProperties);\n  }\n  const output = await next({\n    ...args,\n    request\n  }).catch((signer.errorHandler || defaultErrorHandler)(signingProperties));\n  (signer.successHandler || defaultSuccessHandler)(output.response, signingProperties);\n  return output;\n}, \"s3ExpressHttpSigningMiddleware\");\nvar getS3ExpressHttpSigningPlugin = /* @__PURE__ */ __name((config) => ({\n  applyToStack: (clientStack) => {\n    clientStack.addRelativeTo(\n      s3ExpressHttpSigningMiddleware(config),\n      import_core2.httpSigningMiddlewareOptions\n    );\n  }\n}), \"getS3ExpressHttpSigningPlugin\");\n\n// src/s3Configuration.ts\nvar resolveS3Config = /* @__PURE__ */ __name((input, {\n  session\n}) => {\n  const [s3ClientProvider, CreateSessionCommandCtor] = session;\n  return {\n    ...input,\n    forcePathStyle: input.forcePathStyle ?? false,\n    useAccelerateEndpoint: input.useAccelerateEndpoint ?? false,\n    disableMultiregionAccessPoints: input.disableMultiregionAccessPoints ?? false,\n    followRegionRedirects: input.followRegionRedirects ?? false,\n    s3ExpressIdentityProvider: input.s3ExpressIdentityProvider ?? new S3ExpressIdentityProviderImpl(\n      async (key) => s3ClientProvider().send(\n        new CreateSessionCommandCtor({\n          Bucket: key,\n          SessionMode: \"ReadWrite\"\n        })\n      )\n    ),\n    bucketEndpoint: input.bucketEndpoint ?? false\n  };\n}, \"resolveS3Config\");\n\n// src/throw-200-exceptions.ts\n\nvar import_util_stream = __webpack_require__(/*! @smithy/util-stream */ \"(rsc)/./node_modules/.pnpm/@smithy+util-stream@3.3.1/node_modules/@smithy/util-stream/dist-es/index.js\");\nvar THROW_IF_EMPTY_BODY = {\n  CopyObjectCommand: true,\n  UploadPartCopyCommand: true,\n  CompleteMultipartUploadCommand: true\n};\nvar MAX_BYTES_TO_INSPECT = 3e3;\nvar throw200ExceptionsMiddleware = /* @__PURE__ */ __name((config) => (next, context) => async (args) => {\n  const result = await next(args);\n  const { response } = result;\n  if (!import_protocol_http.HttpResponse.isInstance(response)) {\n    return result;\n  }\n  const { statusCode, body: sourceBody } = response;\n  if (statusCode < 200 || statusCode >= 300) {\n    return result;\n  }\n  const isSplittableStream = typeof (sourceBody == null ? void 0 : sourceBody.stream) === \"function\" || typeof (sourceBody == null ? void 0 : sourceBody.pipe) === \"function\" || typeof (sourceBody == null ? void 0 : sourceBody.tee) === \"function\";\n  if (!isSplittableStream) {\n    return result;\n  }\n  let bodyCopy = sourceBody;\n  let body = sourceBody;\n  if (sourceBody && typeof sourceBody === \"object\" && !(sourceBody instanceof Uint8Array)) {\n    [bodyCopy, body] = await (0, import_util_stream.splitStream)(sourceBody);\n  }\n  response.body = body;\n  const bodyBytes = await collectBody(bodyCopy, {\n    streamCollector: async (stream) => {\n      return (0, import_util_stream.headStream)(stream, MAX_BYTES_TO_INSPECT);\n    }\n  });\n  if (typeof (bodyCopy == null ? void 0 : bodyCopy.destroy) === \"function\") {\n    bodyCopy.destroy();\n  }\n  const bodyStringTail = config.utf8Encoder(bodyBytes.subarray(bodyBytes.length - 16));\n  if (bodyBytes.length === 0 && THROW_IF_EMPTY_BODY[context.commandName]) {\n    const err = new Error(\"S3 aborted request\");\n    err.name = \"InternalError\";\n    throw err;\n  }\n  if (bodyStringTail && bodyStringTail.endsWith(\"</Error>\")) {\n    response.statusCode = 400;\n  }\n  return result;\n}, \"throw200ExceptionsMiddleware\");\nvar collectBody = /* @__PURE__ */ __name((streamBody = new Uint8Array(), context) => {\n  if (streamBody instanceof Uint8Array) {\n    return Promise.resolve(streamBody);\n  }\n  return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n}, \"collectBody\");\nvar throw200ExceptionsMiddlewareOptions = {\n  relation: \"after\",\n  toMiddleware: \"deserializerMiddleware\",\n  tags: [\"THROW_200_EXCEPTIONS\", \"S3\"],\n  name: \"throw200ExceptionsMiddleware\",\n  override: true\n};\nvar getThrow200ExceptionsPlugin = /* @__PURE__ */ __name((config) => ({\n  applyToStack: (clientStack) => {\n    clientStack.addRelativeTo(throw200ExceptionsMiddleware(config), throw200ExceptionsMiddlewareOptions);\n  }\n}), \"getThrow200ExceptionsPlugin\");\n\n// src/validate-bucket-name.ts\nvar import_util_arn_parser = __webpack_require__(/*! @aws-sdk/util-arn-parser */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+util-arn-parser@3.693.0/node_modules/@aws-sdk/util-arn-parser/dist-es/index.js\");\n\n// src/bucket-endpoint-middleware.ts\nfunction bucketEndpointMiddleware(options) {\n  return (next, context) => async (args) => {\n    var _a, _b, _c, _d;\n    if (options.bucketEndpoint) {\n      const endpoint = context.endpointV2;\n      if (endpoint) {\n        const bucket = args.input.Bucket;\n        if (typeof bucket === \"string\") {\n          try {\n            const bucketEndpointUrl = new URL(bucket);\n            context.endpointV2 = {\n              ...endpoint,\n              url: bucketEndpointUrl\n            };\n          } catch (e) {\n            const warning = `@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${bucket} could not be parsed as URL.`;\n            if (((_b = (_a = context.logger) == null ? void 0 : _a.constructor) == null ? void 0 : _b.name) === \"NoOpLogger\") {\n              console.warn(warning);\n            } else {\n              (_d = (_c = context.logger) == null ? void 0 : _c.warn) == null ? void 0 : _d.call(_c, warning);\n            }\n            throw e;\n          }\n        }\n      }\n    }\n    return next(args);\n  };\n}\n__name(bucketEndpointMiddleware, \"bucketEndpointMiddleware\");\nvar bucketEndpointMiddlewareOptions = {\n  name: \"bucketEndpointMiddleware\",\n  override: true,\n  relation: \"after\",\n  toMiddleware: \"endpointV2Middleware\"\n};\n\n// src/validate-bucket-name.ts\nfunction validateBucketNameMiddleware({ bucketEndpoint }) {\n  return (next) => async (args) => {\n    const {\n      input: { Bucket }\n    } = args;\n    if (!bucketEndpoint && typeof Bucket === \"string\" && !(0, import_util_arn_parser.validate)(Bucket) && Bucket.indexOf(\"/\") >= 0) {\n      const err = new Error(`Bucket name shouldn't contain '/', received '${Bucket}'`);\n      err.name = \"InvalidBucketName\";\n      throw err;\n    }\n    return next({ ...args });\n  };\n}\n__name(validateBucketNameMiddleware, \"validateBucketNameMiddleware\");\nvar validateBucketNameMiddlewareOptions = {\n  step: \"initialize\",\n  tags: [\"VALIDATE_BUCKET_NAME\"],\n  name: \"validateBucketNameMiddleware\",\n  override: true\n};\nvar getValidateBucketNamePlugin = /* @__PURE__ */ __name((options) => ({\n  applyToStack: (clientStack) => {\n    clientStack.add(validateBucketNameMiddleware(options), validateBucketNameMiddlewareOptions);\n    clientStack.addRelativeTo(bucketEndpointMiddleware(options), bucketEndpointMiddlewareOptions);\n  }\n}), \"getValidateBucketNamePlugin\");\n// Annotate the CommonJS export names for ESM import in node:\n\n0 && (0);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwyQkFBMkI7QUFDdkY7QUFDQTtBQUNBLDhCQUE4QixrQ0FBa0M7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0RkFBNEY7QUFDekg7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGtCQUFrQixhQUFhOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0EsMkJBQTJCLG1CQUFPLENBQUMseUlBQXVCO0FBQzFELDJCQUEyQixtQkFBTyxDQUFDLHlJQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsNkJBQTZCLEtBQUssYUFBYTtBQUNqSTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsbUNBQW1DLG1CQUFtQixJQUFJLHFCQUFxQixvQkFBb0IseUJBQXlCLEtBQUssRUFBRTtBQUNuSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMsc0lBQXNCOztBQUV4RDtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLDhKQUE4QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0EsaUJBQWlCLGdEQUFnRDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsbUhBQWU7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMsOEdBQWM7O0FBRXpDLDZCQUE2QixtQkFBTyxDQUFDLGdKQUF5Qjs7QUFFOUQ7QUFDQTtBQUNBLHVHQUF1RztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0JBQXdCO0FBQzlDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBLHlCQUF5QixtQkFBTyxDQUFDLG1JQUFxQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0JBQStCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDZCQUE2QixtQkFBTyxDQUFDLG9KQUEwQjs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLGtHQUFrRyxRQUFRO0FBQzFHO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QyxnQkFBZ0I7QUFDeEQ7QUFDQTtBQUNBLGVBQWU7QUFDZixNQUFNO0FBQ047QUFDQSw0RUFBNEUsT0FBTztBQUNuRjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLE1BQU0sQ0E4QkwiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZXNzb24tYXV0aG9yaW5nLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtc2RrLXMzQDMuNjkzLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzL2Rpc3QtY2pzL2luZGV4LmpzPzg4NzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX25hbWUgPSAodGFyZ2V0LCB2YWx1ZSkgPT4gX19kZWZQcm9wKHRhcmdldCwgXCJuYW1lXCIsIHsgdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuICBmb3IgKHZhciBuYW1lIGluIGFsbClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7IGdldDogYWxsW25hbWVdLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3RvQ29tbW9uSlMgPSAobW9kKSA9PiBfX2NvcHlQcm9wcyhfX2RlZlByb3Aoe30sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pLCBtb2QpO1xuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBzcmNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoc3JjX2V4cG9ydHMsIHtcbiAgTk9ERV9ESVNBQkxFX1MzX0VYUFJFU1NfU0VTU0lPTl9BVVRIX09QVElPTlM6ICgpID0+IE5PREVfRElTQUJMRV9TM19FWFBSRVNTX1NFU1NJT05fQVVUSF9PUFRJT05TLFxuICBTM0V4cHJlc3NJZGVudGl0eUNhY2hlOiAoKSA9PiBTM0V4cHJlc3NJZGVudGl0eUNhY2hlLFxuICBTM0V4cHJlc3NJZGVudGl0eUNhY2hlRW50cnk6ICgpID0+IFMzRXhwcmVzc0lkZW50aXR5Q2FjaGVFbnRyeSxcbiAgUzNFeHByZXNzSWRlbnRpdHlQcm92aWRlckltcGw6ICgpID0+IFMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsLFxuICBTaWduYXR1cmVWNFMzRXhwcmVzczogKCkgPT4gU2lnbmF0dXJlVjRTM0V4cHJlc3MsXG4gIGNoZWNrQ29udGVudExlbmd0aEhlYWRlcjogKCkgPT4gY2hlY2tDb250ZW50TGVuZ3RoSGVhZGVyLFxuICBjaGVja0NvbnRlbnRMZW5ndGhIZWFkZXJNaWRkbGV3YXJlT3B0aW9uczogKCkgPT4gY2hlY2tDb250ZW50TGVuZ3RoSGVhZGVyTWlkZGxld2FyZU9wdGlvbnMsXG4gIGdldENoZWNrQ29udGVudExlbmd0aEhlYWRlclBsdWdpbjogKCkgPT4gZ2V0Q2hlY2tDb250ZW50TGVuZ3RoSGVhZGVyUGx1Z2luLFxuICBnZXRSZWdpb25SZWRpcmVjdE1pZGRsZXdhcmVQbHVnaW46ICgpID0+IGdldFJlZ2lvblJlZGlyZWN0TWlkZGxld2FyZVBsdWdpbixcbiAgZ2V0UzNFeHBpcmVzTWlkZGxld2FyZVBsdWdpbjogKCkgPT4gZ2V0UzNFeHBpcmVzTWlkZGxld2FyZVBsdWdpbixcbiAgZ2V0UzNFeHByZXNzSHR0cFNpZ25pbmdQbHVnaW46ICgpID0+IGdldFMzRXhwcmVzc0h0dHBTaWduaW5nUGx1Z2luLFxuICBnZXRTM0V4cHJlc3NQbHVnaW46ICgpID0+IGdldFMzRXhwcmVzc1BsdWdpbixcbiAgZ2V0VGhyb3cyMDBFeGNlcHRpb25zUGx1Z2luOiAoKSA9PiBnZXRUaHJvdzIwMEV4Y2VwdGlvbnNQbHVnaW4sXG4gIGdldFZhbGlkYXRlQnVja2V0TmFtZVBsdWdpbjogKCkgPT4gZ2V0VmFsaWRhdGVCdWNrZXROYW1lUGx1Z2luLFxuICByZWdpb25SZWRpcmVjdEVuZHBvaW50TWlkZGxld2FyZTogKCkgPT4gcmVnaW9uUmVkaXJlY3RFbmRwb2ludE1pZGRsZXdhcmUsXG4gIHJlZ2lvblJlZGlyZWN0RW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9uczogKCkgPT4gcmVnaW9uUmVkaXJlY3RFbmRwb2ludE1pZGRsZXdhcmVPcHRpb25zLFxuICByZWdpb25SZWRpcmVjdE1pZGRsZXdhcmU6ICgpID0+IHJlZ2lvblJlZGlyZWN0TWlkZGxld2FyZSxcbiAgcmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlT3B0aW9uczogKCkgPT4gcmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlT3B0aW9ucyxcbiAgcmVzb2x2ZVMzQ29uZmlnOiAoKSA9PiByZXNvbHZlUzNDb25maWcsXG4gIHMzRXhwaXJlc01pZGRsZXdhcmU6ICgpID0+IHMzRXhwaXJlc01pZGRsZXdhcmUsXG4gIHMzRXhwaXJlc01pZGRsZXdhcmVPcHRpb25zOiAoKSA9PiBzM0V4cGlyZXNNaWRkbGV3YXJlT3B0aW9ucyxcbiAgczNFeHByZXNzSHR0cFNpZ25pbmdNaWRkbGV3YXJlOiAoKSA9PiBzM0V4cHJlc3NIdHRwU2lnbmluZ01pZGRsZXdhcmUsXG4gIHMzRXhwcmVzc0h0dHBTaWduaW5nTWlkZGxld2FyZU9wdGlvbnM6ICgpID0+IHMzRXhwcmVzc0h0dHBTaWduaW5nTWlkZGxld2FyZU9wdGlvbnMsXG4gIHMzRXhwcmVzc01pZGRsZXdhcmU6ICgpID0+IHMzRXhwcmVzc01pZGRsZXdhcmUsXG4gIHMzRXhwcmVzc01pZGRsZXdhcmVPcHRpb25zOiAoKSA9PiBzM0V4cHJlc3NNaWRkbGV3YXJlT3B0aW9ucyxcbiAgdGhyb3cyMDBFeGNlcHRpb25zTWlkZGxld2FyZTogKCkgPT4gdGhyb3cyMDBFeGNlcHRpb25zTWlkZGxld2FyZSxcbiAgdGhyb3cyMDBFeGNlcHRpb25zTWlkZGxld2FyZU9wdGlvbnM6ICgpID0+IHRocm93MjAwRXhjZXB0aW9uc01pZGRsZXdhcmVPcHRpb25zLFxuICB2YWxpZGF0ZUJ1Y2tldE5hbWVNaWRkbGV3YXJlOiAoKSA9PiB2YWxpZGF0ZUJ1Y2tldE5hbWVNaWRkbGV3YXJlLFxuICB2YWxpZGF0ZUJ1Y2tldE5hbWVNaWRkbGV3YXJlT3B0aW9uczogKCkgPT4gdmFsaWRhdGVCdWNrZXROYW1lTWlkZGxld2FyZU9wdGlvbnNcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfX3RvQ29tbW9uSlMoc3JjX2V4cG9ydHMpO1xuXG4vLyBzcmMvY2hlY2stY29udGVudC1sZW5ndGgtaGVhZGVyLnRzXG52YXIgaW1wb3J0X3Byb3RvY29sX2h0dHAgPSByZXF1aXJlKFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCIpO1xudmFyIGltcG9ydF9zbWl0aHlfY2xpZW50ID0gcmVxdWlyZShcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiKTtcbnZhciBDT05URU5UX0xFTkdUSF9IRUFERVIgPSBcImNvbnRlbnQtbGVuZ3RoXCI7XG5mdW5jdGlvbiBjaGVja0NvbnRlbnRMZW5ndGhIZWFkZXIoKSB7XG4gIHJldHVybiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICAgIGlmIChpbXBvcnRfcHJvdG9jb2xfaHR0cC5IdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpKSB7XG4gICAgICBpZiAoIShDT05URU5UX0xFTkdUSF9IRUFERVIgaW4gcmVxdWVzdC5oZWFkZXJzKSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYEFyZSB5b3UgdXNpbmcgYSBTdHJlYW0gb2YgdW5rbm93biBsZW5ndGggYXMgdGhlIEJvZHkgb2YgYSBQdXRPYmplY3QgcmVxdWVzdD8gQ29uc2lkZXIgdXNpbmcgVXBsb2FkIGluc3RlYWQgZnJvbSBAYXdzLXNkay9saWItc3RvcmFnZS5gO1xuICAgICAgICBpZiAodHlwZW9mICgoX2EgPSBjb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBjb250ZXh0LmxvZ2dlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLndhcm4pID09PSBcImZ1bmN0aW9uXCIgJiYgIShjb250ZXh0LmxvZ2dlciBpbnN0YW5jZW9mIGltcG9ydF9zbWl0aHlfY2xpZW50Lk5vT3BMb2dnZXIpKSB7XG4gICAgICAgICAgY29udGV4dC5sb2dnZXIud2FybihtZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5leHQoeyAuLi5hcmdzIH0pO1xuICB9O1xufVxuX19uYW1lKGNoZWNrQ29udGVudExlbmd0aEhlYWRlciwgXCJjaGVja0NvbnRlbnRMZW5ndGhIZWFkZXJcIik7XG52YXIgY2hlY2tDb250ZW50TGVuZ3RoSGVhZGVyTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gIHN0ZXA6IFwiZmluYWxpemVSZXF1ZXN0XCIsXG4gIHRhZ3M6IFtcIkNIRUNLX0NPTlRFTlRfTEVOR1RIX0hFQURFUlwiXSxcbiAgbmFtZTogXCJnZXRDaGVja0NvbnRlbnRMZW5ndGhIZWFkZXJQbHVnaW5cIixcbiAgb3ZlcnJpZGU6IHRydWVcbn07XG52YXIgZ2V0Q2hlY2tDb250ZW50TGVuZ3RoSGVhZGVyUGx1Z2luID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgodW51c2VkKSA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZChjaGVja0NvbnRlbnRMZW5ndGhIZWFkZXIoKSwgY2hlY2tDb250ZW50TGVuZ3RoSGVhZGVyTWlkZGxld2FyZU9wdGlvbnMpO1xuICB9XG59KSwgXCJnZXRDaGVja0NvbnRlbnRMZW5ndGhIZWFkZXJQbHVnaW5cIik7XG5cbi8vIHNyYy9yZWdpb24tcmVkaXJlY3QtZW5kcG9pbnQtbWlkZGxld2FyZS50c1xudmFyIHJlZ2lvblJlZGlyZWN0RW5kcG9pbnRNaWRkbGV3YXJlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29uZmlnKSA9PiB7XG4gIHJldHVybiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbFJlZ2lvbiA9IGF3YWl0IGNvbmZpZy5yZWdpb24oKTtcbiAgICBjb25zdCByZWdpb25Qcm92aWRlclJlZiA9IGNvbmZpZy5yZWdpb247XG4gICAgbGV0IHVubG9jayA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4ge1xuICAgIH0sIFwidW5sb2NrXCIpO1xuICAgIGlmIChjb250ZXh0Ll9fczNSZWdpb25SZWRpcmVjdCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbmZpZywgXCJyZWdpb25cIiwge1xuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuX19zM1JlZ2lvblJlZGlyZWN0O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHVubG9jayA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbmZpZywgXCJyZWdpb25cIiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHJlZ2lvblByb3ZpZGVyUmVmXG4gICAgICB9KSwgXCJ1bmxvY2tcIik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgICAgaWYgKGNvbnRleHQuX19zM1JlZ2lvblJlZGlyZWN0KSB7XG4gICAgICAgIHVubG9jaygpO1xuICAgICAgICBjb25zdCByZWdpb24gPSBhd2FpdCBjb25maWcucmVnaW9uKCk7XG4gICAgICAgIGlmIChvcmlnaW5hbFJlZ2lvbiAhPT0gcmVnaW9uKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uIHdhcyBub3QgcmVzdG9yZWQgZm9sbG93aW5nIFMzIHJlZ2lvbiByZWRpcmVjdC5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdW5sb2NrKCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfTtcbn0sIFwicmVnaW9uUmVkaXJlY3RFbmRwb2ludE1pZGRsZXdhcmVcIik7XG52YXIgcmVnaW9uUmVkaXJlY3RFbmRwb2ludE1pZGRsZXdhcmVPcHRpb25zID0ge1xuICB0YWdzOiBbXCJSRUdJT05fUkVESVJFQ1RcIiwgXCJTM1wiXSxcbiAgbmFtZTogXCJyZWdpb25SZWRpcmVjdEVuZHBvaW50TWlkZGxld2FyZVwiLFxuICBvdmVycmlkZTogdHJ1ZSxcbiAgcmVsYXRpb246IFwiYmVmb3JlXCIsXG4gIHRvTWlkZGxld2FyZTogXCJlbmRwb2ludFYyTWlkZGxld2FyZVwiXG59O1xuXG4vLyBzcmMvcmVnaW9uLXJlZGlyZWN0LW1pZGRsZXdhcmUudHNcbmZ1bmN0aW9uIHJlZ2lvblJlZGlyZWN0TWlkZGxld2FyZShjbGllbnRDb25maWcpIHtcbiAgcmV0dXJuIChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgbmV4dChhcmdzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChjbGllbnRDb25maWcuZm9sbG93UmVnaW9uUmVkaXJlY3RzKSB7XG4gICAgICAgIGlmICgoKF9hID0gZXJyID09IG51bGwgPyB2b2lkIDAgOiBlcnIuJG1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaHR0cFN0YXR1c0NvZGUpID09PSAzMDEgfHwgLy8gZXJyLm5hbWUgPT09IFwiUGVybWFuZW50UmVkaXJlY3RcIiAmJiAtLT4gcmVtb3ZpbmcgdGhlIGVycm9yIG5hbWUgY2hlY2ssIGFzIHRoYXQgYWxsb3dzIGZvciBIRUFEIG9wZXJhdGlvbnMgKHdoaWNoIGhhdmUgdGhlIDMwMSBzdGF0dXMgY29kZSwgYnV0IG5vdCB0aGUgc2FtZSBlcnJvciBuYW1lKSB0byBiZSBjb3ZlcmVkIGZvciByZWdpb24gcmVkaXJlY3Rpb24gYXMgd2VsbFxuICAgICAgICAoKF9iID0gZXJyID09IG51bGwgPyB2b2lkIDAgOiBlcnIuJG1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2IuaHR0cFN0YXR1c0NvZGUpID09PSA0MDAgJiYgKGVyciA9PSBudWxsID8gdm9pZCAwIDogZXJyLm5hbWUpID09PSBcIklsbGVnYWxMb2NhdGlvbkNvbnN0cmFpbnRFeGNlcHRpb25cIikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhY3R1YWxSZWdpb24gPSBlcnIuJHJlc3BvbnNlLmhlYWRlcnNbXCJ4LWFtei1idWNrZXQtcmVnaW9uXCJdO1xuICAgICAgICAgICAgKF9jID0gY29udGV4dC5sb2dnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYy5kZWJ1ZyhgUmVkaXJlY3RpbmcgZnJvbSAke2F3YWl0IGNsaWVudENvbmZpZy5yZWdpb24oKX0gdG8gJHthY3R1YWxSZWdpb259YCk7XG4gICAgICAgICAgICBjb250ZXh0Ll9fczNSZWdpb25SZWRpcmVjdCA9IGFjdHVhbFJlZ2lvbjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb24gcmVkaXJlY3QgZmFpbGVkOiBcIiArIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcbn1cbl9fbmFtZShyZWdpb25SZWRpcmVjdE1pZGRsZXdhcmUsIFwicmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlXCIpO1xudmFyIHJlZ2lvblJlZGlyZWN0TWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gIHN0ZXA6IFwiaW5pdGlhbGl6ZVwiLFxuICB0YWdzOiBbXCJSRUdJT05fUkVESVJFQ1RcIiwgXCJTM1wiXSxcbiAgbmFtZTogXCJyZWdpb25SZWRpcmVjdE1pZGRsZXdhcmVcIixcbiAgb3ZlcnJpZGU6IHRydWVcbn07XG52YXIgZ2V0UmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlUGx1Z2luID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY2xpZW50Q29uZmlnKSA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZChyZWdpb25SZWRpcmVjdE1pZGRsZXdhcmUoY2xpZW50Q29uZmlnKSwgcmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgY2xpZW50U3RhY2suYWRkUmVsYXRpdmVUbyhyZWdpb25SZWRpcmVjdEVuZHBvaW50TWlkZGxld2FyZShjbGllbnRDb25maWcpLCByZWdpb25SZWRpcmVjdEVuZHBvaW50TWlkZGxld2FyZU9wdGlvbnMpO1xuICB9XG59KSwgXCJnZXRSZWdpb25SZWRpcmVjdE1pZGRsZXdhcmVQbHVnaW5cIik7XG5cbi8vIHNyYy9zMy1leHBpcmVzLW1pZGRsZXdhcmUudHNcblxuXG52YXIgczNFeHBpcmVzTWlkZGxld2FyZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNvbmZpZykgPT4ge1xuICByZXR1cm4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5leHQoYXJncyk7XG4gICAgY29uc3QgeyByZXNwb25zZSB9ID0gcmVzdWx0O1xuICAgIGlmIChpbXBvcnRfcHJvdG9jb2xfaHR0cC5IdHRwUmVzcG9uc2UuaXNJbnN0YW5jZShyZXNwb25zZSkpIHtcbiAgICAgIGlmIChyZXNwb25zZS5oZWFkZXJzLmV4cGlyZXMpIHtcbiAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5leHBpcmVzc3RyaW5nID0gcmVzcG9uc2UuaGVhZGVycy5leHBpcmVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICgwLCBpbXBvcnRfc21pdGh5X2NsaWVudC5wYXJzZVJmYzcyMzFEYXRlVGltZSkocmVzcG9uc2UuaGVhZGVycy5leHBpcmVzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIChfYSA9IGNvbnRleHQubG9nZ2VyKSA9PSBudWxsID8gdm9pZCAwIDogX2Eud2FybihcbiAgICAgICAgICAgIGBBV1MgU0RLIFdhcm5pbmcgZm9yICR7Y29udGV4dC5jbGllbnROYW1lfTo6JHtjb250ZXh0LmNvbW1hbmROYW1lfSByZXNwb25zZSBwYXJzaW5nICgke3Jlc3BvbnNlLmhlYWRlcnMuZXhwaXJlc30pOiAke2V9YFxuICAgICAgICAgICk7XG4gICAgICAgICAgZGVsZXRlIHJlc3BvbnNlLmhlYWRlcnMuZXhwaXJlcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSwgXCJzM0V4cGlyZXNNaWRkbGV3YXJlXCIpO1xudmFyIHMzRXhwaXJlc01pZGRsZXdhcmVPcHRpb25zID0ge1xuICB0YWdzOiBbXCJTM1wiXSxcbiAgbmFtZTogXCJzM0V4cGlyZXNNaWRkbGV3YXJlXCIsXG4gIG92ZXJyaWRlOiB0cnVlLFxuICByZWxhdGlvbjogXCJhZnRlclwiLFxuICB0b01pZGRsZXdhcmU6IFwiZGVzZXJpYWxpemVyTWlkZGxld2FyZVwiXG59O1xudmFyIGdldFMzRXhwaXJlc01pZGRsZXdhcmVQbHVnaW4gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjbGllbnRDb25maWcpID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkUmVsYXRpdmVUbyhzM0V4cGlyZXNNaWRkbGV3YXJlKGNsaWVudENvbmZpZyksIHMzRXhwaXJlc01pZGRsZXdhcmVPcHRpb25zKTtcbiAgfVxufSksIFwiZ2V0UzNFeHBpcmVzTWlkZGxld2FyZVBsdWdpblwiKTtcblxuLy8gc3JjL3MzLWV4cHJlc3MvY2xhc3Nlcy9TM0V4cHJlc3NJZGVudGl0eUNhY2hlLnRzXG52YXIgX1MzRXhwcmVzc0lkZW50aXR5Q2FjaGUgPSBjbGFzcyBfUzNFeHByZXNzSWRlbnRpdHlDYWNoZSB7XG4gIGNvbnN0cnVjdG9yKGRhdGEgPSB7fSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5sYXN0UHVyZ2VUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxuICBnZXQoa2V5KSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmRhdGFba2V5XTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbiAgfVxuICBzZXQoa2V5LCBlbnRyeSkge1xuICAgIHRoaXMuZGF0YVtrZXldID0gZW50cnk7XG4gICAgcmV0dXJuIGVudHJ5O1xuICB9XG4gIGRlbGV0ZShrZXkpIHtcbiAgICBkZWxldGUgdGhpcy5kYXRhW2tleV07XG4gIH1cbiAgYXN5bmMgcHVyZ2VFeHBpcmVkKCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKHRoaXMubGFzdFB1cmdlVGltZSArIF9TM0V4cHJlc3NJZGVudGl0eUNhY2hlLkVYUElSRURfQ1JFREVOVElBTF9QVVJHRV9JTlRFUlZBTF9NUyA+IG5vdykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmRhdGEpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5kYXRhW2tleV07XG4gICAgICBpZiAoIWVudHJ5LmlzUmVmcmVzaGluZykge1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gYXdhaXQgZW50cnkuaWRlbnRpdHk7XG4gICAgICAgIGlmIChjcmVkZW50aWFsLmV4cGlyYXRpb24pIHtcbiAgICAgICAgICBpZiAoY3JlZGVudGlhbC5leHBpcmF0aW9uLmdldFRpbWUoKSA8IG5vdykge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGF0YVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbl9fbmFtZShfUzNFeHByZXNzSWRlbnRpdHlDYWNoZSwgXCJTM0V4cHJlc3NJZGVudGl0eUNhY2hlXCIpO1xuX1MzRXhwcmVzc0lkZW50aXR5Q2FjaGUuRVhQSVJFRF9DUkVERU5USUFMX1BVUkdFX0lOVEVSVkFMX01TID0gM2U0O1xudmFyIFMzRXhwcmVzc0lkZW50aXR5Q2FjaGUgPSBfUzNFeHByZXNzSWRlbnRpdHlDYWNoZTtcblxuLy8gc3JjL3MzLWV4cHJlc3MvY2xhc3Nlcy9TM0V4cHJlc3NJZGVudGl0eUNhY2hlRW50cnkudHNcbnZhciBfUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5ID0gY2xhc3MgX1MzRXhwcmVzc0lkZW50aXR5Q2FjaGVFbnRyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gaWRlbnRpdHkgLSBzdG9yZWQgaWRlbnRpdHkuXG4gICAqIEBwYXJhbSBhY2Nlc3NlZCAtIHRpbWVzdGFtcCBvZiBsYXN0IGFjY2VzcyBpbiBlcG9jaCBtcy5cbiAgICogQHBhcmFtIGlzUmVmcmVzaGluZyAtIHRoaXMga2V5IGlzIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiBiZWluZyByZWZyZXNoZWQgKGJhY2tncm91bmQpLlxuICAgKi9cbiAgY29uc3RydWN0b3IoX2lkZW50aXR5LCBpc1JlZnJlc2hpbmcgPSBmYWxzZSwgYWNjZXNzZWQgPSBEYXRlLm5vdygpKSB7XG4gICAgdGhpcy5faWRlbnRpdHkgPSBfaWRlbnRpdHk7XG4gICAgdGhpcy5pc1JlZnJlc2hpbmcgPSBpc1JlZnJlc2hpbmc7XG4gICAgdGhpcy5hY2Nlc3NlZCA9IGFjY2Vzc2VkO1xuICB9XG4gIGdldCBpZGVudGl0eSgpIHtcbiAgICB0aGlzLmFjY2Vzc2VkID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gdGhpcy5faWRlbnRpdHk7XG4gIH1cbn07XG5fX25hbWUoX1MzRXhwcmVzc0lkZW50aXR5Q2FjaGVFbnRyeSwgXCJTM0V4cHJlc3NJZGVudGl0eUNhY2hlRW50cnlcIik7XG52YXIgUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5ID0gX1MzRXhwcmVzc0lkZW50aXR5Q2FjaGVFbnRyeTtcblxuLy8gc3JjL3MzLWV4cHJlc3MvY2xhc3Nlcy9TM0V4cHJlc3NJZGVudGl0eVByb3ZpZGVySW1wbC50c1xudmFyIF9TM0V4cHJlc3NJZGVudGl0eVByb3ZpZGVySW1wbCA9IGNsYXNzIF9TM0V4cHJlc3NJZGVudGl0eVByb3ZpZGVySW1wbCB7XG4gIGNvbnN0cnVjdG9yKGNyZWF0ZVNlc3Npb25GbiwgY2FjaGUgPSBuZXcgUzNFeHByZXNzSWRlbnRpdHlDYWNoZSgpKSB7XG4gICAgdGhpcy5jcmVhdGVTZXNzaW9uRm4gPSBjcmVhdGVTZXNzaW9uRm47XG4gICAgdGhpcy5jYWNoZSA9IGNhY2hlO1xuICB9XG4gIGFzeW5jIGdldFMzRXhwcmVzc0lkZW50aXR5KGF3c0lkZW50aXR5LCBpZGVudGl0eVByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBrZXkgPSBpZGVudGl0eVByb3BlcnRpZXMuQnVja2V0O1xuICAgIGNvbnN0IHsgY2FjaGUgfSA9IHRoaXM7XG4gICAgY29uc3QgZW50cnkgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIHJldHVybiBlbnRyeS5pZGVudGl0eS50aGVuKChpZGVudGl0eSkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBpc0V4cGlyZWQgPSAoKChfYSA9IGlkZW50aXR5LmV4cGlyYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYS5nZXRUaW1lKCkpID8/IDApIDwgRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKGlzRXhwaXJlZCkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5zZXQoa2V5LCBuZXcgUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5KHRoaXMuZ2V0SWRlbnRpdHkoa2V5KSkpLmlkZW50aXR5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzRXhwaXJpbmdTb29uID0gKCgoX2IgPSBpZGVudGl0eS5leHBpcmF0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZ2V0VGltZSgpKSA/PyAwKSA8IERhdGUubm93KCkgKyBfUzNFeHByZXNzSWRlbnRpdHlQcm92aWRlckltcGwuUkVGUkVTSF9XSU5ET1dfTVM7XG4gICAgICAgIGlmIChpc0V4cGlyaW5nU29vbiAmJiAhZW50cnkuaXNSZWZyZXNoaW5nKSB7XG4gICAgICAgICAgZW50cnkuaXNSZWZyZXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmdldElkZW50aXR5KGtleSkudGhlbigoaWQpID0+IHtcbiAgICAgICAgICAgIGNhY2hlLnNldChrZXksIG5ldyBTM0V4cHJlc3NJZGVudGl0eUNhY2hlRW50cnkoUHJvbWlzZS5yZXNvbHZlKGlkKSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGUuc2V0KGtleSwgbmV3IFMzRXhwcmVzc0lkZW50aXR5Q2FjaGVFbnRyeSh0aGlzLmdldElkZW50aXR5KGtleSkpKS5pZGVudGl0eTtcbiAgfVxuICBhc3luYyBnZXRJZGVudGl0eShrZXkpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGF3YWl0IHRoaXMuY2FjaGUucHVyZ2VFeHBpcmVkKCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4oXCJFcnJvciB3aGlsZSBjbGVhcmluZyBleHBpcmVkIGVudHJpZXMgaW4gUzNFeHByZXNzSWRlbnRpdHlDYWNoZTogXFxuXCIgKyBlcnJvcik7XG4gICAgfSk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuY3JlYXRlU2Vzc2lvbkZuKGtleSk7XG4gICAgaWYgKCEoKF9hID0gc2Vzc2lvbi5DcmVkZW50aWFscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLkFjY2Vzc0tleUlkKSB8fCAhKChfYiA9IHNlc3Npb24uQ3JlZGVudGlhbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5TZWNyZXRBY2Nlc3NLZXkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzMyNjcmVhdGVTZXNzaW9uIHJlc3BvbnNlIGNyZWRlbnRpYWwgbWlzc2luZyBBY2Nlc3NLZXlJZCBvciBTZWNyZXRBY2Nlc3NLZXkuXCIpO1xuICAgIH1cbiAgICBjb25zdCBpZGVudGl0eSA9IHtcbiAgICAgIGFjY2Vzc0tleUlkOiBzZXNzaW9uLkNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLFxuICAgICAgc2VjcmV0QWNjZXNzS2V5OiBzZXNzaW9uLkNyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSxcbiAgICAgIHNlc3Npb25Ub2tlbjogc2Vzc2lvbi5DcmVkZW50aWFscy5TZXNzaW9uVG9rZW4sXG4gICAgICBleHBpcmF0aW9uOiBzZXNzaW9uLkNyZWRlbnRpYWxzLkV4cGlyYXRpb24gPyBuZXcgRGF0ZShzZXNzaW9uLkNyZWRlbnRpYWxzLkV4cGlyYXRpb24pIDogdm9pZCAwXG4gICAgfTtcbiAgICByZXR1cm4gaWRlbnRpdHk7XG4gIH1cbn07XG5fX25hbWUoX1MzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsLCBcIlMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsXCIpO1xuX1MzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsLlJFRlJFU0hfV0lORE9XX01TID0gNmU0O1xudmFyIFMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsID0gX1MzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsO1xuXG4vLyBzcmMvczMtZXhwcmVzcy9jbGFzc2VzL1NpZ25hdHVyZVY0UzNFeHByZXNzLnRzXG52YXIgaW1wb3J0X3NpZ25hdHVyZV92NCA9IHJlcXVpcmUoXCJAc21pdGh5L3NpZ25hdHVyZS12NFwiKTtcblxuLy8gc3JjL3MzLWV4cHJlc3MvY29uc3RhbnRzLnRzXG52YXIgaW1wb3J0X3V0aWxfY29uZmlnX3Byb3ZpZGVyID0gcmVxdWlyZShcIkBzbWl0aHkvdXRpbC1jb25maWctcHJvdmlkZXJcIik7XG52YXIgUzNfRVhQUkVTU19CVUNLRVRfVFlQRSA9IFwiRGlyZWN0b3J5XCI7XG52YXIgUzNfRVhQUkVTU19CQUNLRU5EID0gXCJTM0V4cHJlc3NcIjtcbnZhciBTM19FWFBSRVNTX0FVVEhfU0NIRU1FID0gXCJzaWd2NC1zM2V4cHJlc3NcIjtcbnZhciBTRVNTSU9OX1RPS0VOX1FVRVJZX1BBUkFNID0gXCJYLUFtei1TM3Nlc3Npb24tVG9rZW5cIjtcbnZhciBTRVNTSU9OX1RPS0VOX0hFQURFUiA9IFNFU1NJT05fVE9LRU5fUVVFUllfUEFSQU0udG9Mb3dlckNhc2UoKTtcbnZhciBOT0RFX0RJU0FCTEVfUzNfRVhQUkVTU19TRVNTSU9OX0FVVEhfRU5WX05BTUUgPSBcIkFXU19TM19ESVNBQkxFX0VYUFJFU1NfU0VTU0lPTl9BVVRIXCI7XG52YXIgTk9ERV9ESVNBQkxFX1MzX0VYUFJFU1NfU0VTU0lPTl9BVVRIX0lOSV9OQU1FID0gXCJzM19kaXNhYmxlX2V4cHJlc3Nfc2Vzc2lvbl9hdXRoXCI7XG52YXIgTk9ERV9ESVNBQkxFX1MzX0VYUFJFU1NfU0VTU0lPTl9BVVRIX09QVElPTlMgPSB7XG4gIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gKDAsIGltcG9ydF91dGlsX2NvbmZpZ19wcm92aWRlci5ib29sZWFuU2VsZWN0b3IpKGVudiwgTk9ERV9ESVNBQkxFX1MzX0VYUFJFU1NfU0VTU0lPTl9BVVRIX0VOVl9OQU1FLCBpbXBvcnRfdXRpbF9jb25maWdfcHJvdmlkZXIuU2VsZWN0b3JUeXBlLkVOViksXG4gIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+ICgwLCBpbXBvcnRfdXRpbF9jb25maWdfcHJvdmlkZXIuYm9vbGVhblNlbGVjdG9yKShwcm9maWxlLCBOT0RFX0RJU0FCTEVfUzNfRVhQUkVTU19TRVNTSU9OX0FVVEhfSU5JX05BTUUsIGltcG9ydF91dGlsX2NvbmZpZ19wcm92aWRlci5TZWxlY3RvclR5cGUuQ09ORklHKSxcbiAgZGVmYXVsdDogZmFsc2Vcbn07XG5cbi8vIHNyYy9zMy1leHByZXNzL2NsYXNzZXMvU2lnbmF0dXJlVjRTM0V4cHJlc3MudHNcbnZhciBfU2lnbmF0dXJlVjRTM0V4cHJlc3MgPSBjbGFzcyBfU2lnbmF0dXJlVjRTM0V4cHJlc3MgZXh0ZW5kcyBpbXBvcnRfc2lnbmF0dXJlX3Y0LlNpZ25hdHVyZVY0IHtcbiAgLyoqXG4gICAqIFNpZ25zIHdpdGggYWx0ZXJuYXRlIHByb3ZpZGVkIGNyZWRlbnRpYWxzIGluc3RlYWQgb2YgdGhvc2UgcHJvdmlkZWQgaW4gdGhlXG4gICAqIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHkgb21pdHMgdGhlIGNyZWRlbnRpYWwgc2Vzc2lvblRva2VuIGFuZCBhc3NpZ25zIGl0IHRvIHRoZVxuICAgKiBhbHRlcm5hdGUgaGVhZGVyIGZpZWxkIGZvciBTMyBFeHByZXNzLlxuICAgKi9cbiAgYXN5bmMgc2lnbldpdGhDcmVkZW50aWFscyhyZXF1ZXN0VG9TaWduLCBjcmVkZW50aWFscywgb3B0aW9ucykge1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzV2l0aG91dFNlc3Npb25Ub2tlbiA9IGdldENyZWRlbnRpYWxzV2l0aG91dFNlc3Npb25Ub2tlbihjcmVkZW50aWFscyk7XG4gICAgcmVxdWVzdFRvU2lnbi5oZWFkZXJzW1NFU1NJT05fVE9LRU5fSEVBREVSXSA9IGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbjtcbiAgICBjb25zdCBwcml2YXRlQWNjZXNzID0gdGhpcztcbiAgICBzZXRTaW5nbGVPdmVycmlkZShwcml2YXRlQWNjZXNzLCBjcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW4pO1xuICAgIHJldHVybiBwcml2YXRlQWNjZXNzLnNpZ25SZXF1ZXN0KHJlcXVlc3RUb1NpZ24sIG9wdGlvbnMgPz8ge30pO1xuICB9XG4gIC8qKlxuICAgKiBTaW1pbGFyIHRvIHtAbGluayBTaWduYXR1cmVWNFMzRXhwcmVzcyNzaWduV2l0aENyZWRlbnRpYWxzfSBidXQgZm9yIHByZXNpZ25pbmcuXG4gICAqL1xuICBhc3luYyBwcmVzaWduV2l0aENyZWRlbnRpYWxzKHJlcXVlc3RUb1NpZ24sIGNyZWRlbnRpYWxzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY3JlZGVudGlhbHNXaXRob3V0U2Vzc2lvblRva2VuID0gZ2V0Q3JlZGVudGlhbHNXaXRob3V0U2Vzc2lvblRva2VuKGNyZWRlbnRpYWxzKTtcbiAgICBkZWxldGUgcmVxdWVzdFRvU2lnbi5oZWFkZXJzW1NFU1NJT05fVE9LRU5fSEVBREVSXTtcbiAgICByZXF1ZXN0VG9TaWduLmhlYWRlcnNbU0VTU0lPTl9UT0tFTl9RVUVSWV9QQVJBTV0gPSBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgcmVxdWVzdFRvU2lnbi5xdWVyeSA9IHJlcXVlc3RUb1NpZ24ucXVlcnkgPz8ge307XG4gICAgcmVxdWVzdFRvU2lnbi5xdWVyeVtTRVNTSU9OX1RPS0VOX1FVRVJZX1BBUkFNXSA9IGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbjtcbiAgICBjb25zdCBwcml2YXRlQWNjZXNzID0gdGhpcztcbiAgICBzZXRTaW5nbGVPdmVycmlkZShwcml2YXRlQWNjZXNzLCBjcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW4pO1xuICAgIHJldHVybiB0aGlzLnByZXNpZ24ocmVxdWVzdFRvU2lnbiwgb3B0aW9ucyk7XG4gIH1cbn07XG5fX25hbWUoX1NpZ25hdHVyZVY0UzNFeHByZXNzLCBcIlNpZ25hdHVyZVY0UzNFeHByZXNzXCIpO1xudmFyIFNpZ25hdHVyZVY0UzNFeHByZXNzID0gX1NpZ25hdHVyZVY0UzNFeHByZXNzO1xuZnVuY3Rpb24gZ2V0Q3JlZGVudGlhbHNXaXRob3V0U2Vzc2lvblRva2VuKGNyZWRlbnRpYWxzKSB7XG4gIGNvbnN0IGNyZWRlbnRpYWxzV2l0aG91dFNlc3Npb25Ub2tlbiA9IHtcbiAgICBhY2Nlc3NLZXlJZDogY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQsXG4gICAgc2VjcmV0QWNjZXNzS2V5OiBjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXksXG4gICAgZXhwaXJhdGlvbjogY3JlZGVudGlhbHMuZXhwaXJhdGlvblxuICB9O1xuICByZXR1cm4gY3JlZGVudGlhbHNXaXRob3V0U2Vzc2lvblRva2VuO1xufVxuX19uYW1lKGdldENyZWRlbnRpYWxzV2l0aG91dFNlc3Npb25Ub2tlbiwgXCJnZXRDcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW5cIik7XG5mdW5jdGlvbiBzZXRTaW5nbGVPdmVycmlkZShwcml2YXRlQWNjZXNzLCBjcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW4pIHtcbiAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaWduYXR1cmVWNFMzRXhwcmVzcyBjcmVkZW50aWFsIG92ZXJyaWRlIHdhcyBjcmVhdGVkIGJ1dCBub3QgY2FsbGVkLlwiKTtcbiAgfSwgMTApO1xuICBjb25zdCBjdXJyZW50Q3JlZGVudGlhbFByb3ZpZGVyID0gcHJpdmF0ZUFjY2Vzcy5jcmVkZW50aWFsUHJvdmlkZXI7XG4gIGNvbnN0IG92ZXJyaWRlQ3JlZGVudGlhbHNQcm92aWRlck9uY2UgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgIHByaXZhdGVBY2Nlc3MuY3JlZGVudGlhbFByb3ZpZGVyID0gY3VycmVudENyZWRlbnRpYWxQcm92aWRlcjtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNyZWRlbnRpYWxzV2l0aG91dFNlc3Npb25Ub2tlbik7XG4gIH0sIFwib3ZlcnJpZGVDcmVkZW50aWFsc1Byb3ZpZGVyT25jZVwiKTtcbiAgcHJpdmF0ZUFjY2Vzcy5jcmVkZW50aWFsUHJvdmlkZXIgPSBvdmVycmlkZUNyZWRlbnRpYWxzUHJvdmlkZXJPbmNlO1xufVxuX19uYW1lKHNldFNpbmdsZU92ZXJyaWRlLCBcInNldFNpbmdsZU92ZXJyaWRlXCIpO1xuXG4vLyBzcmMvczMtZXhwcmVzcy9mdW5jdGlvbnMvczNFeHByZXNzTWlkZGxld2FyZS50c1xudmFyIGltcG9ydF9jb3JlID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NvcmVcIik7XG5cbnZhciBzM0V4cHJlc3NNaWRkbGV3YXJlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgob3B0aW9ucykgPT4ge1xuICByZXR1cm4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBpZiAoY29udGV4dC5lbmRwb2ludFYyKSB7XG4gICAgICBjb25zdCBlbmRwb2ludCA9IGNvbnRleHQuZW5kcG9pbnRWMjtcbiAgICAgIGNvbnN0IGlzUzNFeHByZXNzQXV0aCA9ICgoX2MgPSAoX2IgPSAoX2EgPSBlbmRwb2ludC5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuYXV0aFNjaGVtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYlswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLm5hbWUpID09PSBTM19FWFBSRVNTX0FVVEhfU0NIRU1FO1xuICAgICAgY29uc3QgaXNTM0V4cHJlc3NCdWNrZXQgPSAoKF9kID0gZW5kcG9pbnQucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmJhY2tlbmQpID09PSBTM19FWFBSRVNTX0JBQ0tFTkQgfHwgKChfZSA9IGVuZHBvaW50LnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZS5idWNrZXRUeXBlKSA9PT0gUzNfRVhQUkVTU19CVUNLRVRfVFlQRTtcbiAgICAgIGlmIChpc1MzRXhwcmVzc0J1Y2tldCkge1xuICAgICAgICAoMCwgaW1wb3J0X2NvcmUuc2V0RmVhdHVyZSkoY29udGV4dCwgXCJTM19FWFBSRVNTX0JVQ0tFVFwiLCBcIkpcIik7XG4gICAgICAgIGNvbnRleHQuaXNTM0V4cHJlc3NCdWNrZXQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzUzNFeHByZXNzQXV0aCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0QnVja2V0ID0gYXJncy5pbnB1dC5CdWNrZXQ7XG4gICAgICAgIGlmIChyZXF1ZXN0QnVja2V0KSB7XG4gICAgICAgICAgY29uc3QgczNFeHByZXNzSWRlbnRpdHkgPSBhd2FpdCBvcHRpb25zLnMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXIuZ2V0UzNFeHByZXNzSWRlbnRpdHkoXG4gICAgICAgICAgICBhd2FpdCBvcHRpb25zLmNyZWRlbnRpYWxzKCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIEJ1Y2tldDogcmVxdWVzdEJ1Y2tldFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udGV4dC5zM0V4cHJlc3NJZGVudGl0eSA9IHMzRXhwcmVzc0lkZW50aXR5O1xuICAgICAgICAgIGlmIChpbXBvcnRfcHJvdG9jb2xfaHR0cC5IdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkgJiYgczNFeHByZXNzSWRlbnRpdHkuc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgICBhcmdzLnJlcXVlc3QuaGVhZGVyc1tTRVNTSU9OX1RPS0VOX0hFQURFUl0gPSBzM0V4cHJlc3NJZGVudGl0eS5zZXNzaW9uVG9rZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICB9O1xufSwgXCJzM0V4cHJlc3NNaWRkbGV3YXJlXCIpO1xudmFyIHMzRXhwcmVzc01pZGRsZXdhcmVPcHRpb25zID0ge1xuICBuYW1lOiBcInMzRXhwcmVzc01pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJidWlsZFwiLFxuICB0YWdzOiBbXCJTM1wiLCBcIlMzX0VYUFJFU1NcIl0sXG4gIG92ZXJyaWRlOiB0cnVlXG59O1xudmFyIGdldFMzRXhwcmVzc1BsdWdpbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG9wdGlvbnMpID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKHMzRXhwcmVzc01pZGRsZXdhcmUob3B0aW9ucyksIHMzRXhwcmVzc01pZGRsZXdhcmVPcHRpb25zKTtcbiAgfVxufSksIFwiZ2V0UzNFeHByZXNzUGx1Z2luXCIpO1xuXG4vLyBzcmMvczMtZXhwcmVzcy9mdW5jdGlvbnMvczNFeHByZXNzSHR0cFNpZ25pbmdNaWRkbGV3YXJlLnRzXG52YXIgaW1wb3J0X2NvcmUyID0gcmVxdWlyZShcIkBzbWl0aHkvY29yZVwiKTtcblxudmFyIGltcG9ydF91dGlsX21pZGRsZXdhcmUgPSByZXF1aXJlKFwiQHNtaXRoeS91dGlsLW1pZGRsZXdhcmVcIik7XG5cbi8vIHNyYy9zMy1leHByZXNzL2Z1bmN0aW9ucy9zaWduUzNFeHByZXNzLnRzXG52YXIgc2lnblMzRXhwcmVzcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHMzRXhwcmVzc0lkZW50aXR5LCBzaWduaW5nT3B0aW9ucywgcmVxdWVzdCwgc2lnVjRNdWx0aVJlZ2lvblNpZ25lcikgPT4ge1xuICBjb25zdCBzaWduZWRSZXF1ZXN0ID0gYXdhaXQgc2lnVjRNdWx0aVJlZ2lvblNpZ25lci5zaWduV2l0aENyZWRlbnRpYWxzKHJlcXVlc3QsIHMzRXhwcmVzc0lkZW50aXR5LCB7fSk7XG4gIGlmIChzaWduZWRSZXF1ZXN0LmhlYWRlcnNbXCJYLUFtei1TZWN1cml0eS1Ub2tlblwiXSB8fCBzaWduZWRSZXF1ZXN0LmhlYWRlcnNbXCJ4LWFtei1zZWN1cml0eS10b2tlblwiXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlgtQW16LVNlY3VyaXR5LVRva2VuIG11c3Qgbm90IGJlIHNldCBmb3IgczMtZXhwcmVzcyByZXF1ZXN0cy5cIik7XG4gIH1cbiAgcmV0dXJuIHNpZ25lZFJlcXVlc3Q7XG59LCBcInNpZ25TM0V4cHJlc3NcIik7XG5cbi8vIHNyYy9zMy1leHByZXNzL2Z1bmN0aW9ucy9zM0V4cHJlc3NIdHRwU2lnbmluZ01pZGRsZXdhcmUudHNcbnZhciBkZWZhdWx0RXJyb3JIYW5kbGVyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc2lnbmluZ1Byb3BlcnRpZXMpID0+IChlcnJvcikgPT4ge1xuICB0aHJvdyBlcnJvcjtcbn0sIFwiZGVmYXVsdEVycm9ySGFuZGxlclwiKTtcbnZhciBkZWZhdWx0U3VjY2Vzc0hhbmRsZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChodHRwUmVzcG9uc2UsIHNpZ25pbmdQcm9wZXJ0aWVzKSA9PiB7XG59LCBcImRlZmF1bHRTdWNjZXNzSGFuZGxlclwiKTtcbnZhciBzM0V4cHJlc3NIdHRwU2lnbmluZ01pZGRsZXdhcmVPcHRpb25zID0gaW1wb3J0X2NvcmUyLmh0dHBTaWduaW5nTWlkZGxld2FyZU9wdGlvbnM7XG52YXIgczNFeHByZXNzSHR0cFNpZ25pbmdNaWRkbGV3YXJlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29uZmlnKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgaWYgKCFpbXBvcnRfcHJvdG9jb2xfaHR0cC5IdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpIHtcbiAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgfVxuICBjb25zdCBzbWl0aHlDb250ZXh0ID0gKDAsIGltcG9ydF91dGlsX21pZGRsZXdhcmUuZ2V0U21pdGh5Q29udGV4dCkoY29udGV4dCk7XG4gIGNvbnN0IHNjaGVtZSA9IHNtaXRoeUNvbnRleHQuc2VsZWN0ZWRIdHRwQXV0aFNjaGVtZTtcbiAgaWYgKCFzY2hlbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIEh0dHBBdXRoU2NoZW1lIHdhcyBzZWxlY3RlZDogdW5hYmxlIHRvIHNpZ24gcmVxdWVzdGApO1xuICB9XG4gIGNvbnN0IHtcbiAgICBodHRwQXV0aE9wdGlvbjogeyBzaWduaW5nUHJvcGVydGllcyA9IHt9IH0sXG4gICAgaWRlbnRpdHksXG4gICAgc2lnbmVyXG4gIH0gPSBzY2hlbWU7XG4gIGxldCByZXF1ZXN0O1xuICBpZiAoY29udGV4dC5zM0V4cHJlc3NJZGVudGl0eSkge1xuICAgIHJlcXVlc3QgPSBhd2FpdCBzaWduUzNFeHByZXNzKFxuICAgICAgY29udGV4dC5zM0V4cHJlc3NJZGVudGl0eSxcbiAgICAgIHNpZ25pbmdQcm9wZXJ0aWVzLFxuICAgICAgYXJncy5yZXF1ZXN0LFxuICAgICAgYXdhaXQgY29uZmlnLnNpZ25lcigpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXF1ZXN0ID0gYXdhaXQgc2lnbmVyLnNpZ24oYXJncy5yZXF1ZXN0LCBpZGVudGl0eSwgc2lnbmluZ1Byb3BlcnRpZXMpO1xuICB9XG4gIGNvbnN0IG91dHB1dCA9IGF3YWl0IG5leHQoe1xuICAgIC4uLmFyZ3MsXG4gICAgcmVxdWVzdFxuICB9KS5jYXRjaCgoc2lnbmVyLmVycm9ySGFuZGxlciB8fCBkZWZhdWx0RXJyb3JIYW5kbGVyKShzaWduaW5nUHJvcGVydGllcykpO1xuICAoc2lnbmVyLnN1Y2Nlc3NIYW5kbGVyIHx8IGRlZmF1bHRTdWNjZXNzSGFuZGxlcikob3V0cHV0LnJlc3BvbnNlLCBzaWduaW5nUHJvcGVydGllcyk7XG4gIHJldHVybiBvdXRwdXQ7XG59LCBcInMzRXhwcmVzc0h0dHBTaWduaW5nTWlkZGxld2FyZVwiKTtcbnZhciBnZXRTM0V4cHJlc3NIdHRwU2lnbmluZ1BsdWdpbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNvbmZpZykgPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGRSZWxhdGl2ZVRvKFxuICAgICAgczNFeHByZXNzSHR0cFNpZ25pbmdNaWRkbGV3YXJlKGNvbmZpZyksXG4gICAgICBpbXBvcnRfY29yZTIuaHR0cFNpZ25pbmdNaWRkbGV3YXJlT3B0aW9uc1xuICAgICk7XG4gIH1cbn0pLCBcImdldFMzRXhwcmVzc0h0dHBTaWduaW5nUGx1Z2luXCIpO1xuXG4vLyBzcmMvczNDb25maWd1cmF0aW9uLnRzXG52YXIgcmVzb2x2ZVMzQ29uZmlnID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoaW5wdXQsIHtcbiAgc2Vzc2lvblxufSkgPT4ge1xuICBjb25zdCBbczNDbGllbnRQcm92aWRlciwgQ3JlYXRlU2Vzc2lvbkNvbW1hbmRDdG9yXSA9IHNlc3Npb247XG4gIHJldHVybiB7XG4gICAgLi4uaW5wdXQsXG4gICAgZm9yY2VQYXRoU3R5bGU6IGlucHV0LmZvcmNlUGF0aFN0eWxlID8/IGZhbHNlLFxuICAgIHVzZUFjY2VsZXJhdGVFbmRwb2ludDogaW5wdXQudXNlQWNjZWxlcmF0ZUVuZHBvaW50ID8/IGZhbHNlLFxuICAgIGRpc2FibGVNdWx0aXJlZ2lvbkFjY2Vzc1BvaW50czogaW5wdXQuZGlzYWJsZU11bHRpcmVnaW9uQWNjZXNzUG9pbnRzID8/IGZhbHNlLFxuICAgIGZvbGxvd1JlZ2lvblJlZGlyZWN0czogaW5wdXQuZm9sbG93UmVnaW9uUmVkaXJlY3RzID8/IGZhbHNlLFxuICAgIHMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXI6IGlucHV0LnMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXIgPz8gbmV3IFMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsKFxuICAgICAgYXN5bmMgKGtleSkgPT4gczNDbGllbnRQcm92aWRlcigpLnNlbmQoXG4gICAgICAgIG5ldyBDcmVhdGVTZXNzaW9uQ29tbWFuZEN0b3Ioe1xuICAgICAgICAgIEJ1Y2tldDoga2V5LFxuICAgICAgICAgIFNlc3Npb25Nb2RlOiBcIlJlYWRXcml0ZVwiXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKSxcbiAgICBidWNrZXRFbmRwb2ludDogaW5wdXQuYnVja2V0RW5kcG9pbnQgPz8gZmFsc2VcbiAgfTtcbn0sIFwicmVzb2x2ZVMzQ29uZmlnXCIpO1xuXG4vLyBzcmMvdGhyb3ctMjAwLWV4Y2VwdGlvbnMudHNcblxudmFyIGltcG9ydF91dGlsX3N0cmVhbSA9IHJlcXVpcmUoXCJAc21pdGh5L3V0aWwtc3RyZWFtXCIpO1xudmFyIFRIUk9XX0lGX0VNUFRZX0JPRFkgPSB7XG4gIENvcHlPYmplY3RDb21tYW5kOiB0cnVlLFxuICBVcGxvYWRQYXJ0Q29weUNvbW1hbmQ6IHRydWUsXG4gIENvbXBsZXRlTXVsdGlwYXJ0VXBsb2FkQ29tbWFuZDogdHJ1ZVxufTtcbnZhciBNQVhfQllURVNfVE9fSU5TUEVDVCA9IDNlMztcbnZhciB0aHJvdzIwMEV4Y2VwdGlvbnNNaWRkbGV3YXJlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29uZmlnKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgY29uc3QgeyByZXNwb25zZSB9ID0gcmVzdWx0O1xuICBpZiAoIWltcG9ydF9wcm90b2NvbF9odHRwLkh0dHBSZXNwb25zZS5pc0luc3RhbmNlKHJlc3BvbnNlKSkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgY29uc3QgeyBzdGF0dXNDb2RlLCBib2R5OiBzb3VyY2VCb2R5IH0gPSByZXNwb25zZTtcbiAgaWYgKHN0YXR1c0NvZGUgPCAyMDAgfHwgc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGNvbnN0IGlzU3BsaXR0YWJsZVN0cmVhbSA9IHR5cGVvZiAoc291cmNlQm9keSA9PSBudWxsID8gdm9pZCAwIDogc291cmNlQm9keS5zdHJlYW0pID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIChzb3VyY2VCb2R5ID09IG51bGwgPyB2b2lkIDAgOiBzb3VyY2VCb2R5LnBpcGUpID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIChzb3VyY2VCb2R5ID09IG51bGwgPyB2b2lkIDAgOiBzb3VyY2VCb2R5LnRlZSkgPT09IFwiZnVuY3Rpb25cIjtcbiAgaWYgKCFpc1NwbGl0dGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGxldCBib2R5Q29weSA9IHNvdXJjZUJvZHk7XG4gIGxldCBib2R5ID0gc291cmNlQm9keTtcbiAgaWYgKHNvdXJjZUJvZHkgJiYgdHlwZW9mIHNvdXJjZUJvZHkgPT09IFwib2JqZWN0XCIgJiYgIShzb3VyY2VCb2R5IGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcbiAgICBbYm9keUNvcHksIGJvZHldID0gYXdhaXQgKDAsIGltcG9ydF91dGlsX3N0cmVhbS5zcGxpdFN0cmVhbSkoc291cmNlQm9keSk7XG4gIH1cbiAgcmVzcG9uc2UuYm9keSA9IGJvZHk7XG4gIGNvbnN0IGJvZHlCeXRlcyA9IGF3YWl0IGNvbGxlY3RCb2R5KGJvZHlDb3B5LCB7XG4gICAgc3RyZWFtQ29sbGVjdG9yOiBhc3luYyAoc3RyZWFtKSA9PiB7XG4gICAgICByZXR1cm4gKDAsIGltcG9ydF91dGlsX3N0cmVhbS5oZWFkU3RyZWFtKShzdHJlYW0sIE1BWF9CWVRFU19UT19JTlNQRUNUKTtcbiAgICB9XG4gIH0pO1xuICBpZiAodHlwZW9mIChib2R5Q29weSA9PSBudWxsID8gdm9pZCAwIDogYm9keUNvcHkuZGVzdHJveSkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGJvZHlDb3B5LmRlc3Ryb3koKTtcbiAgfVxuICBjb25zdCBib2R5U3RyaW5nVGFpbCA9IGNvbmZpZy51dGY4RW5jb2Rlcihib2R5Qnl0ZXMuc3ViYXJyYXkoYm9keUJ5dGVzLmxlbmd0aCAtIDE2KSk7XG4gIGlmIChib2R5Qnl0ZXMubGVuZ3RoID09PSAwICYmIFRIUk9XX0lGX0VNUFRZX0JPRFlbY29udGV4dC5jb21tYW5kTmFtZV0pIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJTMyBhYm9ydGVkIHJlcXVlc3RcIik7XG4gICAgZXJyLm5hbWUgPSBcIkludGVybmFsRXJyb3JcIjtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgaWYgKGJvZHlTdHJpbmdUYWlsICYmIGJvZHlTdHJpbmdUYWlsLmVuZHNXaXRoKFwiPC9FcnJvcj5cIikpIHtcbiAgICByZXNwb25zZS5zdGF0dXNDb2RlID0gNDAwO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59LCBcInRocm93MjAwRXhjZXB0aW9uc01pZGRsZXdhcmVcIik7XG52YXIgY29sbGVjdEJvZHkgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdHJlYW1Cb2R5ID0gbmV3IFVpbnQ4QXJyYXkoKSwgY29udGV4dCkgPT4ge1xuICBpZiAoc3RyZWFtQm9keSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0cmVhbUJvZHkpO1xuICB9XG4gIHJldHVybiBjb250ZXh0LnN0cmVhbUNvbGxlY3RvcihzdHJlYW1Cb2R5KSB8fCBQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoKSk7XG59LCBcImNvbGxlY3RCb2R5XCIpO1xudmFyIHRocm93MjAwRXhjZXB0aW9uc01pZGRsZXdhcmVPcHRpb25zID0ge1xuICByZWxhdGlvbjogXCJhZnRlclwiLFxuICB0b01pZGRsZXdhcmU6IFwiZGVzZXJpYWxpemVyTWlkZGxld2FyZVwiLFxuICB0YWdzOiBbXCJUSFJPV18yMDBfRVhDRVBUSU9OU1wiLCBcIlMzXCJdLFxuICBuYW1lOiBcInRocm93MjAwRXhjZXB0aW9uc01pZGRsZXdhcmVcIixcbiAgb3ZlcnJpZGU6IHRydWVcbn07XG52YXIgZ2V0VGhyb3cyMDBFeGNlcHRpb25zUGx1Z2luID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29uZmlnKSA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8odGhyb3cyMDBFeGNlcHRpb25zTWlkZGxld2FyZShjb25maWcpLCB0aHJvdzIwMEV4Y2VwdGlvbnNNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH1cbn0pLCBcImdldFRocm93MjAwRXhjZXB0aW9uc1BsdWdpblwiKTtcblxuLy8gc3JjL3ZhbGlkYXRlLWJ1Y2tldC1uYW1lLnRzXG52YXIgaW1wb3J0X3V0aWxfYXJuX3BhcnNlciA9IHJlcXVpcmUoXCJAYXdzLXNkay91dGlsLWFybi1wYXJzZXJcIik7XG5cbi8vIHNyYy9idWNrZXQtZW5kcG9pbnQtbWlkZGxld2FyZS50c1xuZnVuY3Rpb24gYnVja2V0RW5kcG9pbnRNaWRkbGV3YXJlKG9wdGlvbnMpIHtcbiAgcmV0dXJuIChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAob3B0aW9ucy5idWNrZXRFbmRwb2ludCkge1xuICAgICAgY29uc3QgZW5kcG9pbnQgPSBjb250ZXh0LmVuZHBvaW50VjI7XG4gICAgICBpZiAoZW5kcG9pbnQpIHtcbiAgICAgICAgY29uc3QgYnVja2V0ID0gYXJncy5pbnB1dC5CdWNrZXQ7XG4gICAgICAgIGlmICh0eXBlb2YgYnVja2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldEVuZHBvaW50VXJsID0gbmV3IFVSTChidWNrZXQpO1xuICAgICAgICAgICAgY29udGV4dC5lbmRwb2ludFYyID0ge1xuICAgICAgICAgICAgICAuLi5lbmRwb2ludCxcbiAgICAgICAgICAgICAgdXJsOiBidWNrZXRFbmRwb2ludFVybFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCB3YXJuaW5nID0gYEBhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzOiBidWNrZXRFbmRwb2ludD10cnVlIHdhcyBzZXQgYnV0IEJ1Y2tldD0ke2J1Y2tldH0gY291bGQgbm90IGJlIHBhcnNlZCBhcyBVUkwuYDtcbiAgICAgICAgICAgIGlmICgoKF9iID0gKF9hID0gY29udGV4dC5sb2dnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb25zdHJ1Y3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLm5hbWUpID09PSBcIk5vT3BMb2dnZXJcIikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAoX2QgPSAoX2MgPSBjb250ZXh0LmxvZ2dlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLndhcm4pID09IG51bGwgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCB3YXJuaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICB9O1xufVxuX19uYW1lKGJ1Y2tldEVuZHBvaW50TWlkZGxld2FyZSwgXCJidWNrZXRFbmRwb2ludE1pZGRsZXdhcmVcIik7XG52YXIgYnVja2V0RW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgbmFtZTogXCJidWNrZXRFbmRwb2ludE1pZGRsZXdhcmVcIixcbiAgb3ZlcnJpZGU6IHRydWUsXG4gIHJlbGF0aW9uOiBcImFmdGVyXCIsXG4gIHRvTWlkZGxld2FyZTogXCJlbmRwb2ludFYyTWlkZGxld2FyZVwiXG59O1xuXG4vLyBzcmMvdmFsaWRhdGUtYnVja2V0LW5hbWUudHNcbmZ1bmN0aW9uIHZhbGlkYXRlQnVja2V0TmFtZU1pZGRsZXdhcmUoeyBidWNrZXRFbmRwb2ludCB9KSB7XG4gIHJldHVybiAobmV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBpbnB1dDogeyBCdWNrZXQgfVxuICAgIH0gPSBhcmdzO1xuICAgIGlmICghYnVja2V0RW5kcG9pbnQgJiYgdHlwZW9mIEJ1Y2tldCA9PT0gXCJzdHJpbmdcIiAmJiAhKDAsIGltcG9ydF91dGlsX2Fybl9wYXJzZXIudmFsaWRhdGUpKEJ1Y2tldCkgJiYgQnVja2V0LmluZGV4T2YoXCIvXCIpID49IDApIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgQnVja2V0IG5hbWUgc2hvdWxkbid0IGNvbnRhaW4gJy8nLCByZWNlaXZlZCAnJHtCdWNrZXR9J2ApO1xuICAgICAgZXJyLm5hbWUgPSBcIkludmFsaWRCdWNrZXROYW1lXCI7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KHsgLi4uYXJncyB9KTtcbiAgfTtcbn1cbl9fbmFtZSh2YWxpZGF0ZUJ1Y2tldE5hbWVNaWRkbGV3YXJlLCBcInZhbGlkYXRlQnVja2V0TmFtZU1pZGRsZXdhcmVcIik7XG52YXIgdmFsaWRhdGVCdWNrZXROYW1lTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gIHN0ZXA6IFwiaW5pdGlhbGl6ZVwiLFxuICB0YWdzOiBbXCJWQUxJREFURV9CVUNLRVRfTkFNRVwiXSxcbiAgbmFtZTogXCJ2YWxpZGF0ZUJ1Y2tldE5hbWVNaWRkbGV3YXJlXCIsXG4gIG92ZXJyaWRlOiB0cnVlXG59O1xudmFyIGdldFZhbGlkYXRlQnVja2V0TmFtZVBsdWdpbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG9wdGlvbnMpID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKHZhbGlkYXRlQnVja2V0TmFtZU1pZGRsZXdhcmUob3B0aW9ucyksIHZhbGlkYXRlQnVja2V0TmFtZU1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICBjbGllbnRTdGFjay5hZGRSZWxhdGl2ZVRvKGJ1Y2tldEVuZHBvaW50TWlkZGxld2FyZShvcHRpb25zKSwgYnVja2V0RW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH1cbn0pLCBcImdldFZhbGlkYXRlQnVja2V0TmFtZVBsdWdpblwiKTtcbi8vIEFubm90YXRlIHRoZSBDb21tb25KUyBleHBvcnQgbmFtZXMgZm9yIEVTTSBpbXBvcnQgaW4gbm9kZTpcblxuMCAmJiAobW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNoZWNrQ29udGVudExlbmd0aEhlYWRlcixcbiAgY2hlY2tDb250ZW50TGVuZ3RoSGVhZGVyTWlkZGxld2FyZU9wdGlvbnMsXG4gIGdldENoZWNrQ29udGVudExlbmd0aEhlYWRlclBsdWdpbixcbiAgcmVnaW9uUmVkaXJlY3RFbmRwb2ludE1pZGRsZXdhcmUsXG4gIHJlZ2lvblJlZGlyZWN0RW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyxcbiAgcmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlLFxuICByZWdpb25SZWRpcmVjdE1pZGRsZXdhcmVPcHRpb25zLFxuICBnZXRSZWdpb25SZWRpcmVjdE1pZGRsZXdhcmVQbHVnaW4sXG4gIHMzRXhwaXJlc01pZGRsZXdhcmUsXG4gIHMzRXhwaXJlc01pZGRsZXdhcmVPcHRpb25zLFxuICBnZXRTM0V4cGlyZXNNaWRkbGV3YXJlUGx1Z2luLFxuICBTM0V4cHJlc3NJZGVudGl0eUNhY2hlLFxuICBTM0V4cHJlc3NJZGVudGl0eUNhY2hlRW50cnksXG4gIFMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsLFxuICBTaWduYXR1cmVWNFMzRXhwcmVzcyxcbiAgTk9ERV9ESVNBQkxFX1MzX0VYUFJFU1NfU0VTU0lPTl9BVVRIX09QVElPTlMsXG4gIGdldFMzRXhwcmVzc1BsdWdpbixcbiAgczNFeHByZXNzTWlkZGxld2FyZSxcbiAgczNFeHByZXNzTWlkZGxld2FyZU9wdGlvbnMsXG4gIGdldFMzRXhwcmVzc0h0dHBTaWduaW5nUGx1Z2luLFxuICBzM0V4cHJlc3NIdHRwU2lnbmluZ01pZGRsZXdhcmUsXG4gIHMzRXhwcmVzc0h0dHBTaWduaW5nTWlkZGxld2FyZU9wdGlvbnMsXG4gIHJlc29sdmVTM0NvbmZpZyxcbiAgdGhyb3cyMDBFeGNlcHRpb25zTWlkZGxld2FyZSxcbiAgdGhyb3cyMDBFeGNlcHRpb25zTWlkZGxld2FyZU9wdGlvbnMsXG4gIGdldFRocm93MjAwRXhjZXB0aW9uc1BsdWdpbixcbiAgdmFsaWRhdGVCdWNrZXROYW1lTWlkZGxld2FyZSxcbiAgdmFsaWRhdGVCdWNrZXROYW1lTWlkZGxld2FyZU9wdGlvbnMsXG4gIGdldFZhbGlkYXRlQnVja2V0TmFtZVBsdWdpblxufSk7XG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/bucket-endpoint-middleware.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/bucket-endpoint-middleware.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bucketEndpointMiddleware: () => (/* binding */ bucketEndpointMiddleware),\n/* harmony export */   bucketEndpointMiddlewareOptions: () => (/* binding */ bucketEndpointMiddlewareOptions)\n/* harmony export */ });\nfunction bucketEndpointMiddleware(options) {\n    return (next, context) => async (args) => {\n        if (options.bucketEndpoint) {\n            const endpoint = context.endpointV2;\n            if (endpoint) {\n                const bucket = args.input.Bucket;\n                if (typeof bucket === \"string\") {\n                    try {\n                        const bucketEndpointUrl = new URL(bucket);\n                        context.endpointV2 = {\n                            ...endpoint,\n                            url: bucketEndpointUrl,\n                        };\n                    }\n                    catch (e) {\n                        const warning = `@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${bucket} could not be parsed as URL.`;\n                        if (context.logger?.constructor?.name === \"NoOpLogger\") {\n                            console.warn(warning);\n                        }\n                        else {\n                            context.logger?.warn?.(warning);\n                        }\n                        throw e;\n                    }\n                }\n            }\n        }\n        return next(args);\n    };\n}\nconst bucketEndpointMiddlewareOptions = {\n    name: \"bucketEndpointMiddleware\",\n    override: true,\n    relation: \"after\",\n    toMiddleware: \"endpointV2Middleware\",\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9idWNrZXQtZW5kcG9pbnQtbWlkZGxld2FyZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhHQUE4RyxRQUFRO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZXNzb24tYXV0aG9yaW5nLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtc2RrLXMzQDMuNjkzLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzL2Rpc3QtZXMvYnVja2V0LWVuZHBvaW50LW1pZGRsZXdhcmUuanM/MTM4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gYnVja2V0RW5kcG9pbnRNaWRkbGV3YXJlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zLmJ1Y2tldEVuZHBvaW50KSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGNvbnRleHQuZW5kcG9pbnRWMjtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldCA9IGFyZ3MuaW5wdXQuQnVja2V0O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYnVja2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidWNrZXRFbmRwb2ludFVybCA9IG5ldyBVUkwoYnVja2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZW5kcG9pbnRWMiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5lbmRwb2ludCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGJ1Y2tldEVuZHBvaW50VXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FybmluZyA9IGBAYXdzLXNkay9taWRkbGV3YXJlLXNkay1zMzogYnVja2V0RW5kcG9pbnQ9dHJ1ZSB3YXMgc2V0IGJ1dCBCdWNrZXQ9JHtidWNrZXR9IGNvdWxkIG5vdCBiZSBwYXJzZWQgYXMgVVJMLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5sb2dnZXI/LmNvbnN0cnVjdG9yPy5uYW1lID09PSBcIk5vT3BMb2dnZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubG9nZ2VyPy53YXJuPy4od2FybmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIH07XG59XG5leHBvcnQgY29uc3QgYnVja2V0RW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImJ1Y2tldEVuZHBvaW50TWlkZGxld2FyZVwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxuICAgIHJlbGF0aW9uOiBcImFmdGVyXCIsXG4gICAgdG9NaWRkbGV3YXJlOiBcImVuZHBvaW50VjJNaWRkbGV3YXJlXCIsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/bucket-endpoint-middleware.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/check-content-length-header.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/check-content-length-header.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkContentLengthHeader: () => (/* binding */ checkContentLengthHeader),\n/* harmony export */   checkContentLengthHeaderMiddlewareOptions: () => (/* binding */ checkContentLengthHeaderMiddlewareOptions),\n/* harmony export */   getCheckContentLengthHeaderPlugin: () => (/* binding */ getCheckContentLengthHeaderPlugin)\n/* harmony export */ });\n/* harmony import */ var _smithy_protocol_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @smithy/protocol-http */ \"(rsc)/./node_modules/.pnpm/@smithy+protocol-http@4.1.7/node_modules/@smithy/protocol-http/dist-es/index.js\");\n/* harmony import */ var _smithy_smithy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @smithy/smithy-client */ \"(rsc)/./node_modules/.pnpm/@smithy+smithy-client@3.4.4/node_modules/@smithy/smithy-client/dist-es/index.js\");\n\n\nconst CONTENT_LENGTH_HEADER = \"content-length\";\nfunction checkContentLengthHeader() {\n    return (next, context) => async (args) => {\n        const { request } = args;\n        if (_smithy_protocol_http__WEBPACK_IMPORTED_MODULE_0__.HttpRequest.isInstance(request)) {\n            if (!(CONTENT_LENGTH_HEADER in request.headers)) {\n                const message = `Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.`;\n                if (typeof context?.logger?.warn === \"function\" && !(context.logger instanceof _smithy_smithy_client__WEBPACK_IMPORTED_MODULE_1__.NoOpLogger)) {\n                    context.logger.warn(message);\n                }\n                else {\n                    console.warn(message);\n                }\n            }\n        }\n        return next({ ...args });\n    };\n}\nconst checkContentLengthHeaderMiddlewareOptions = {\n    step: \"finalizeRequest\",\n    tags: [\"CHECK_CONTENT_LENGTH_HEADER\"],\n    name: \"getCheckContentLengthHeaderPlugin\",\n    override: true,\n};\nconst getCheckContentLengthHeaderPlugin = (unused) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(checkContentLengthHeader(), checkContentLengthHeaderMiddlewareOptions);\n    },\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9jaGVjay1jb250ZW50LWxlbmd0aC1oZWFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0Q7QUFDRDtBQUNuRDtBQUNPO0FBQ1A7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQixZQUFZLDhEQUFXO0FBQ3ZCO0FBQ0E7QUFDQSwrRkFBK0YsNkRBQVU7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZXNzb24tYXV0aG9yaW5nLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtc2RrLXMzQDMuNjkzLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzL2Rpc3QtZXMvY2hlY2stY29udGVudC1sZW5ndGgtaGVhZGVyLmpzP2MxZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBOb09wTG9nZ2VyIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuY29uc3QgQ09OVEVOVF9MRU5HVEhfSEVBREVSID0gXCJjb250ZW50LWxlbmd0aFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ29udGVudExlbmd0aEhlYWRlcigpIHtcbiAgICByZXR1cm4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgICAgICAgaWYgKEh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpIHtcbiAgICAgICAgICAgIGlmICghKENPTlRFTlRfTEVOR1RIX0hFQURFUiBpbiByZXF1ZXN0LmhlYWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBBcmUgeW91IHVzaW5nIGEgU3RyZWFtIG9mIHVua25vd24gbGVuZ3RoIGFzIHRoZSBCb2R5IG9mIGEgUHV0T2JqZWN0IHJlcXVlc3Q/IENvbnNpZGVyIHVzaW5nIFVwbG9hZCBpbnN0ZWFkIGZyb20gQGF3cy1zZGsvbGliLXN0b3JhZ2UuYDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQ/LmxvZ2dlcj8ud2FybiA9PT0gXCJmdW5jdGlvblwiICYmICEoY29udGV4dC5sb2dnZXIgaW5zdGFuY2VvZiBOb09wTG9nZ2VyKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCh7IC4uLmFyZ3MgfSk7XG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBjaGVja0NvbnRlbnRMZW5ndGhIZWFkZXJNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBzdGVwOiBcImZpbmFsaXplUmVxdWVzdFwiLFxuICAgIHRhZ3M6IFtcIkNIRUNLX0NPTlRFTlRfTEVOR1RIX0hFQURFUlwiXSxcbiAgICBuYW1lOiBcImdldENoZWNrQ29udGVudExlbmd0aEhlYWRlclBsdWdpblwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBnZXRDaGVja0NvbnRlbnRMZW5ndGhIZWFkZXJQbHVnaW4gPSAodW51c2VkKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZChjaGVja0NvbnRlbnRMZW5ndGhIZWFkZXIoKSwgY2hlY2tDb250ZW50TGVuZ3RoSGVhZGVyTWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/check-content-length-header.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/index.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/index.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS),\n/* harmony export */   S3ExpressIdentityCache: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.S3ExpressIdentityCache),\n/* harmony export */   S3ExpressIdentityCacheEntry: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.S3ExpressIdentityCacheEntry),\n/* harmony export */   S3ExpressIdentityProviderImpl: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.S3ExpressIdentityProviderImpl),\n/* harmony export */   SignatureV4S3Express: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.SignatureV4S3Express),\n/* harmony export */   checkContentLengthHeader: () => (/* reexport safe */ _check_content_length_header__WEBPACK_IMPORTED_MODULE_0__.checkContentLengthHeader),\n/* harmony export */   checkContentLengthHeaderMiddlewareOptions: () => (/* reexport safe */ _check_content_length_header__WEBPACK_IMPORTED_MODULE_0__.checkContentLengthHeaderMiddlewareOptions),\n/* harmony export */   getCheckContentLengthHeaderPlugin: () => (/* reexport safe */ _check_content_length_header__WEBPACK_IMPORTED_MODULE_0__.getCheckContentLengthHeaderPlugin),\n/* harmony export */   getRegionRedirectMiddlewarePlugin: () => (/* reexport safe */ _region_redirect_middleware__WEBPACK_IMPORTED_MODULE_2__.getRegionRedirectMiddlewarePlugin),\n/* harmony export */   getS3ExpiresMiddlewarePlugin: () => (/* reexport safe */ _s3_expires_middleware__WEBPACK_IMPORTED_MODULE_3__.getS3ExpiresMiddlewarePlugin),\n/* harmony export */   getS3ExpressHttpSigningPlugin: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.getS3ExpressHttpSigningPlugin),\n/* harmony export */   getS3ExpressPlugin: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.getS3ExpressPlugin),\n/* harmony export */   getThrow200ExceptionsPlugin: () => (/* reexport safe */ _throw_200_exceptions__WEBPACK_IMPORTED_MODULE_6__.getThrow200ExceptionsPlugin),\n/* harmony export */   getValidateBucketNamePlugin: () => (/* reexport safe */ _validate_bucket_name__WEBPACK_IMPORTED_MODULE_7__.getValidateBucketNamePlugin),\n/* harmony export */   regionRedirectEndpointMiddleware: () => (/* reexport safe */ _region_redirect_endpoint_middleware__WEBPACK_IMPORTED_MODULE_1__.regionRedirectEndpointMiddleware),\n/* harmony export */   regionRedirectEndpointMiddlewareOptions: () => (/* reexport safe */ _region_redirect_endpoint_middleware__WEBPACK_IMPORTED_MODULE_1__.regionRedirectEndpointMiddlewareOptions),\n/* harmony export */   regionRedirectMiddleware: () => (/* reexport safe */ _region_redirect_middleware__WEBPACK_IMPORTED_MODULE_2__.regionRedirectMiddleware),\n/* harmony export */   regionRedirectMiddlewareOptions: () => (/* reexport safe */ _region_redirect_middleware__WEBPACK_IMPORTED_MODULE_2__.regionRedirectMiddlewareOptions),\n/* harmony export */   resolveS3Config: () => (/* reexport safe */ _s3Configuration__WEBPACK_IMPORTED_MODULE_5__.resolveS3Config),\n/* harmony export */   s3ExpiresMiddleware: () => (/* reexport safe */ _s3_expires_middleware__WEBPACK_IMPORTED_MODULE_3__.s3ExpiresMiddleware),\n/* harmony export */   s3ExpiresMiddlewareOptions: () => (/* reexport safe */ _s3_expires_middleware__WEBPACK_IMPORTED_MODULE_3__.s3ExpiresMiddlewareOptions),\n/* harmony export */   s3ExpressHttpSigningMiddleware: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.s3ExpressHttpSigningMiddleware),\n/* harmony export */   s3ExpressHttpSigningMiddlewareOptions: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.s3ExpressHttpSigningMiddlewareOptions),\n/* harmony export */   s3ExpressMiddleware: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.s3ExpressMiddleware),\n/* harmony export */   s3ExpressMiddlewareOptions: () => (/* reexport safe */ _s3_express_index__WEBPACK_IMPORTED_MODULE_4__.s3ExpressMiddlewareOptions),\n/* harmony export */   throw200ExceptionsMiddleware: () => (/* reexport safe */ _throw_200_exceptions__WEBPACK_IMPORTED_MODULE_6__.throw200ExceptionsMiddleware),\n/* harmony export */   throw200ExceptionsMiddlewareOptions: () => (/* reexport safe */ _throw_200_exceptions__WEBPACK_IMPORTED_MODULE_6__.throw200ExceptionsMiddlewareOptions),\n/* harmony export */   validateBucketNameMiddleware: () => (/* reexport safe */ _validate_bucket_name__WEBPACK_IMPORTED_MODULE_7__.validateBucketNameMiddleware),\n/* harmony export */   validateBucketNameMiddlewareOptions: () => (/* reexport safe */ _validate_bucket_name__WEBPACK_IMPORTED_MODULE_7__.validateBucketNameMiddlewareOptions)\n/* harmony export */ });\n/* harmony import */ var _check_content_length_header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./check-content-length-header */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/check-content-length-header.js\");\n/* harmony import */ var _region_redirect_endpoint_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./region-redirect-endpoint-middleware */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-endpoint-middleware.js\");\n/* harmony import */ var _region_redirect_middleware__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./region-redirect-middleware */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-middleware.js\");\n/* harmony import */ var _s3_expires_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./s3-expires-middleware */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-expires-middleware.js\");\n/* harmony import */ var _s3_express_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./s3-express/index */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/index.js\");\n/* harmony import */ var _s3Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./s3Configuration */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3Configuration.js\");\n/* harmony import */ var _throw_200_exceptions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./throw-200-exceptions */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/throw-200-exceptions.js\");\n/* harmony import */ var _validate_bucket_name__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./validate-bucket-name */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/validate-bucket-name.js\");\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ1E7QUFDVDtBQUNMO0FBQ0w7QUFDRDtBQUNLO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZXNzb24tYXV0aG9yaW5nLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtc2RrLXMzQDMuNjkzLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzL2Rpc3QtZXMvaW5kZXguanM/YmE1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9jaGVjay1jb250ZW50LWxlbmd0aC1oZWFkZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlZ2lvbi1yZWRpcmVjdC1lbmRwb2ludC1taWRkbGV3YXJlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9yZWdpb24tcmVkaXJlY3QtbWlkZGxld2FyZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vczMtZXhwaXJlcy1taWRkbGV3YXJlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zMy1leHByZXNzL2luZGV4XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zM0NvbmZpZ3VyYXRpb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL3Rocm93LTIwMC1leGNlcHRpb25zXCI7XG5leHBvcnQgKiBmcm9tIFwiLi92YWxpZGF0ZS1idWNrZXQtbmFtZVwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-endpoint-middleware.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-endpoint-middleware.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   regionRedirectEndpointMiddleware: () => (/* binding */ regionRedirectEndpointMiddleware),\n/* harmony export */   regionRedirectEndpointMiddlewareOptions: () => (/* binding */ regionRedirectEndpointMiddlewareOptions)\n/* harmony export */ });\nconst regionRedirectEndpointMiddleware = (config) => {\n    return (next, context) => async (args) => {\n        const originalRegion = await config.region();\n        const regionProviderRef = config.region;\n        let unlock = () => { };\n        if (context.__s3RegionRedirect) {\n            Object.defineProperty(config, \"region\", {\n                writable: false,\n                value: async () => {\n                    return context.__s3RegionRedirect;\n                },\n            });\n            unlock = () => Object.defineProperty(config, \"region\", {\n                writable: true,\n                value: regionProviderRef,\n            });\n        }\n        try {\n            const result = await next(args);\n            if (context.__s3RegionRedirect) {\n                unlock();\n                const region = await config.region();\n                if (originalRegion !== region) {\n                    throw new Error(\"Region was not restored following S3 region redirect.\");\n                }\n            }\n            return result;\n        }\n        catch (e) {\n            unlock();\n            throw e;\n        }\n    };\n};\nconst regionRedirectEndpointMiddlewareOptions = {\n    tags: [\"REGION_REDIRECT\", \"S3\"],\n    name: \"regionRedirectEndpointMiddleware\",\n    override: true,\n    relation: \"before\",\n    toMiddleware: \"endpointV2Middleware\",\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9yZWdpb24tcmVkaXJlY3QtZW5kcG9pbnQtbWlkZGxld2FyZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZXNzb24tYXV0aG9yaW5nLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtc2RrLXMzQDMuNjkzLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzL2Rpc3QtZXMvcmVnaW9uLXJlZGlyZWN0LWVuZHBvaW50LW1pZGRsZXdhcmUuanM/ZmJlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcmVnaW9uUmVkaXJlY3RFbmRwb2ludE1pZGRsZXdhcmUgPSAoY29uZmlnKSA9PiB7XG4gICAgcmV0dXJuIChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFJlZ2lvbiA9IGF3YWl0IGNvbmZpZy5yZWdpb24oKTtcbiAgICAgICAgY29uc3QgcmVnaW9uUHJvdmlkZXJSZWYgPSBjb25maWcucmVnaW9uO1xuICAgICAgICBsZXQgdW5sb2NrID0gKCkgPT4geyB9O1xuICAgICAgICBpZiAoY29udGV4dC5fX3MzUmVnaW9uUmVkaXJlY3QpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25maWcsIFwicmVnaW9uXCIsIHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuX19zM1JlZ2lvblJlZGlyZWN0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVubG9jayA9ICgpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25maWcsIFwicmVnaW9uXCIsIHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVnaW9uUHJvdmlkZXJSZWYsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0Ll9fczNSZWdpb25SZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgIHVubG9jaygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lvbiA9IGF3YWl0IGNvbmZpZy5yZWdpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxSZWdpb24gIT09IHJlZ2lvbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb24gd2FzIG5vdCByZXN0b3JlZCBmb2xsb3dpbmcgUzMgcmVnaW9uIHJlZGlyZWN0LlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB1bmxvY2soKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCByZWdpb25SZWRpcmVjdEVuZHBvaW50TWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgdGFnczogW1wiUkVHSU9OX1JFRElSRUNUXCIsIFwiUzNcIl0sXG4gICAgbmFtZTogXCJyZWdpb25SZWRpcmVjdEVuZHBvaW50TWlkZGxld2FyZVwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxuICAgIHJlbGF0aW9uOiBcImJlZm9yZVwiLFxuICAgIHRvTWlkZGxld2FyZTogXCJlbmRwb2ludFYyTWlkZGxld2FyZVwiLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-endpoint-middleware.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-middleware.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-middleware.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRegionRedirectMiddlewarePlugin: () => (/* binding */ getRegionRedirectMiddlewarePlugin),\n/* harmony export */   regionRedirectMiddleware: () => (/* binding */ regionRedirectMiddleware),\n/* harmony export */   regionRedirectMiddlewareOptions: () => (/* binding */ regionRedirectMiddlewareOptions)\n/* harmony export */ });\n/* harmony import */ var _region_redirect_endpoint_middleware__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./region-redirect-endpoint-middleware */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-endpoint-middleware.js\");\n\nfunction regionRedirectMiddleware(clientConfig) {\n    return (next, context) => async (args) => {\n        try {\n            return await next(args);\n        }\n        catch (err) {\n            if (clientConfig.followRegionRedirects) {\n                if (err?.$metadata?.httpStatusCode === 301 ||\n                    (err?.$metadata?.httpStatusCode === 400 && err?.name === \"IllegalLocationConstraintException\")) {\n                    try {\n                        const actualRegion = err.$response.headers[\"x-amz-bucket-region\"];\n                        context.logger?.debug(`Redirecting from ${await clientConfig.region()} to ${actualRegion}`);\n                        context.__s3RegionRedirect = actualRegion;\n                    }\n                    catch (e) {\n                        throw new Error(\"Region redirect failed: \" + e);\n                    }\n                    return next(args);\n                }\n            }\n            throw err;\n        }\n    };\n}\nconst regionRedirectMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"REGION_REDIRECT\", \"S3\"],\n    name: \"regionRedirectMiddleware\",\n    override: true,\n};\nconst getRegionRedirectMiddlewarePlugin = (clientConfig) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(regionRedirectMiddleware(clientConfig), regionRedirectMiddlewareOptions);\n        clientStack.addRelativeTo((0,_region_redirect_endpoint_middleware__WEBPACK_IMPORTED_MODULE_0__.regionRedirectEndpointMiddleware)(clientConfig), _region_redirect_endpoint_middleware__WEBPACK_IMPORTED_MODULE_0__.regionRedirectEndpointMiddlewareOptions);\n    },\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9yZWdpb24tcmVkaXJlY3QtbWlkZGxld2FyZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1JO0FBQzVIO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsNkJBQTZCLEtBQUssYUFBYTtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxrQ0FBa0Msc0dBQWdDLGdCQUFnQix5R0FBdUM7QUFDekgsS0FBSztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZXNzb24tYXV0aG9yaW5nLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtc2RrLXMzQDMuNjkzLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzL2Rpc3QtZXMvcmVnaW9uLXJlZGlyZWN0LW1pZGRsZXdhcmUuanM/ZjJiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZWdpb25SZWRpcmVjdEVuZHBvaW50TWlkZGxld2FyZSwgcmVnaW9uUmVkaXJlY3RFbmRwb2ludE1pZGRsZXdhcmVPcHRpb25zLCB9IGZyb20gXCIuL3JlZ2lvbi1yZWRpcmVjdC1lbmRwb2ludC1taWRkbGV3YXJlXCI7XG5leHBvcnQgZnVuY3Rpb24gcmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlKGNsaWVudENvbmZpZykge1xuICAgIHJldHVybiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjbGllbnRDb25maWcuZm9sbG93UmVnaW9uUmVkaXJlY3RzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycj8uJG1ldGFkYXRhPy5odHRwU3RhdHVzQ29kZSA9PT0gMzAxIHx8XG4gICAgICAgICAgICAgICAgICAgIChlcnI/LiRtZXRhZGF0YT8uaHR0cFN0YXR1c0NvZGUgPT09IDQwMCAmJiBlcnI/Lm5hbWUgPT09IFwiSWxsZWdhbExvY2F0aW9uQ29uc3RyYWludEV4Y2VwdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0dWFsUmVnaW9uID0gZXJyLiRyZXNwb25zZS5oZWFkZXJzW1wieC1hbXotYnVja2V0LXJlZ2lvblwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubG9nZ2VyPy5kZWJ1ZyhgUmVkaXJlY3RpbmcgZnJvbSAke2F3YWl0IGNsaWVudENvbmZpZy5yZWdpb24oKX0gdG8gJHthY3R1YWxSZWdpb259YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9fczNSZWdpb25SZWRpcmVjdCA9IGFjdHVhbFJlZ2lvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uIHJlZGlyZWN0IGZhaWxlZDogXCIgKyBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IHJlZ2lvblJlZGlyZWN0TWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgc3RlcDogXCJpbml0aWFsaXplXCIsXG4gICAgdGFnczogW1wiUkVHSU9OX1JFRElSRUNUXCIsIFwiUzNcIl0sXG4gICAgbmFtZTogXCJyZWdpb25SZWRpcmVjdE1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0UmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlUGx1Z2luID0gKGNsaWVudENvbmZpZykgPT4gKHtcbiAgICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgICAgICBjbGllbnRTdGFjay5hZGQocmVnaW9uUmVkaXJlY3RNaWRkbGV3YXJlKGNsaWVudENvbmZpZyksIHJlZ2lvblJlZGlyZWN0TWlkZGxld2FyZU9wdGlvbnMpO1xuICAgICAgICBjbGllbnRTdGFjay5hZGRSZWxhdGl2ZVRvKHJlZ2lvblJlZGlyZWN0RW5kcG9pbnRNaWRkbGV3YXJlKGNsaWVudENvbmZpZyksIHJlZ2lvblJlZGlyZWN0RW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-middleware.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-expires-middleware.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-expires-middleware.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getS3ExpiresMiddlewarePlugin: () => (/* binding */ getS3ExpiresMiddlewarePlugin),\n/* harmony export */   s3ExpiresMiddleware: () => (/* binding */ s3ExpiresMiddleware),\n/* harmony export */   s3ExpiresMiddlewareOptions: () => (/* binding */ s3ExpiresMiddlewareOptions)\n/* harmony export */ });\n/* harmony import */ var _smithy_protocol_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @smithy/protocol-http */ \"(rsc)/./node_modules/.pnpm/@smithy+protocol-http@4.1.7/node_modules/@smithy/protocol-http/dist-es/index.js\");\n/* harmony import */ var _smithy_smithy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @smithy/smithy-client */ \"(rsc)/./node_modules/.pnpm/@smithy+smithy-client@3.4.4/node_modules/@smithy/smithy-client/dist-es/index.js\");\n\n\nconst s3ExpiresMiddleware = (config) => {\n    return (next, context) => async (args) => {\n        const result = await next(args);\n        const { response } = result;\n        if (_smithy_protocol_http__WEBPACK_IMPORTED_MODULE_0__.HttpResponse.isInstance(response)) {\n            if (response.headers.expires) {\n                response.headers.expiresstring = response.headers.expires;\n                try {\n                    (0,_smithy_smithy_client__WEBPACK_IMPORTED_MODULE_1__.parseRfc7231DateTime)(response.headers.expires);\n                }\n                catch (e) {\n                    context.logger?.warn(`AWS SDK Warning for ${context.clientName}::${context.commandName} response parsing (${response.headers.expires}): ${e}`);\n                    delete response.headers.expires;\n                }\n            }\n        }\n        return result;\n    };\n};\nconst s3ExpiresMiddlewareOptions = {\n    tags: [\"S3\"],\n    name: \"s3ExpiresMiddleware\",\n    override: true,\n    relation: \"after\",\n    toMiddleware: \"deserializerMiddleware\",\n};\nconst getS3ExpiresMiddlewarePlugin = (clientConfig) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(s3ExpiresMiddleware(clientConfig), s3ExpiresMiddlewareOptions);\n    },\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHBpcmVzLW1pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUQ7QUFDUTtBQUN0RDtBQUNQO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQixZQUFZLCtEQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyRUFBb0I7QUFDeEM7QUFDQTtBQUNBLGdFQUFnRSxtQkFBbUIsSUFBSSxxQkFBcUIsb0JBQW9CLHlCQUF5QixLQUFLLEVBQUU7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVzc29uLWF1dGhvcmluZy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYXdzLXNkayttaWRkbGV3YXJlLXNkay1zM0AzLjY5My4wL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zMy9kaXN0LWVzL3MzLWV4cGlyZXMtbWlkZGxld2FyZS5qcz81OGRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXNwb25zZSB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IHBhcnNlUmZjNzIzMURhdGVUaW1lIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IGNvbnN0IHMzRXhwaXJlc01pZGRsZXdhcmUgPSAoY29uZmlnKSA9PiB7XG4gICAgcmV0dXJuIChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSByZXN1bHQ7XG4gICAgICAgIGlmIChIdHRwUmVzcG9uc2UuaXNJbnN0YW5jZShyZXNwb25zZSkpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5oZWFkZXJzLmV4cGlyZXMpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmV4cGlyZXNzdHJpbmcgPSByZXNwb25zZS5oZWFkZXJzLmV4cGlyZXM7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VSZmM3MjMxRGF0ZVRpbWUocmVzcG9uc2UuaGVhZGVycy5leHBpcmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2dnZXI/Lndhcm4oYEFXUyBTREsgV2FybmluZyBmb3IgJHtjb250ZXh0LmNsaWVudE5hbWV9Ojoke2NvbnRleHQuY29tbWFuZE5hbWV9IHJlc3BvbnNlIHBhcnNpbmcgKCR7cmVzcG9uc2UuaGVhZGVycy5leHBpcmVzfSk6ICR7ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc3BvbnNlLmhlYWRlcnMuZXhwaXJlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBzM0V4cGlyZXNNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICB0YWdzOiBbXCJTM1wiXSxcbiAgICBuYW1lOiBcInMzRXhwaXJlc01pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbiAgICByZWxhdGlvbjogXCJhZnRlclwiLFxuICAgIHRvTWlkZGxld2FyZTogXCJkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlXCIsXG59O1xuZXhwb3J0IGNvbnN0IGdldFMzRXhwaXJlc01pZGRsZXdhcmVQbHVnaW4gPSAoY2xpZW50Q29uZmlnKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oczNFeHBpcmVzTWlkZGxld2FyZShjbGllbnRDb25maWcpLCBzM0V4cGlyZXNNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-expires-middleware.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCache.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCache.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S3ExpressIdentityCache: () => (/* binding */ S3ExpressIdentityCache)\n/* harmony export */ });\nclass S3ExpressIdentityCache {\n    constructor(data = {}) {\n        this.data = data;\n        this.lastPurgeTime = Date.now();\n    }\n    get(key) {\n        const entry = this.data[key];\n        if (!entry) {\n            return;\n        }\n        return entry;\n    }\n    set(key, entry) {\n        this.data[key] = entry;\n        return entry;\n    }\n    delete(key) {\n        delete this.data[key];\n    }\n    async purgeExpired() {\n        const now = Date.now();\n        if (this.lastPurgeTime + S3ExpressIdentityCache.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS > now) {\n            return;\n        }\n        for (const key in this.data) {\n            const entry = this.data[key];\n            if (!entry.isRefreshing) {\n                const credential = await entry.identity;\n                if (credential.expiration) {\n                    if (credential.expiration.getTime() < now) {\n                        delete this.data[key];\n                    }\n                }\n            }\n        }\n    }\n}\nS3ExpressIdentityCache.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS = 30000;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2NsYXNzZXMvUzNFeHByZXNzSWRlbnRpdHlDYWNoZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVzc29uLWF1dGhvcmluZy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYXdzLXNkayttaWRkbGV3YXJlLXNkay1zM0AzLjY5My4wL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zMy9kaXN0LWVzL3MzLWV4cHJlc3MvY2xhc3Nlcy9TM0V4cHJlc3NJZGVudGl0eUNhY2hlLmpzPzAxM2YiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFMzRXhwcmVzc0lkZW50aXR5Q2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEgPSB7fSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmxhc3RQdXJnZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5kYXRhW2tleV07XG4gICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgfVxuICAgIHNldChrZXksIGVudHJ5KSB7XG4gICAgICAgIHRoaXMuZGF0YVtrZXldID0gZW50cnk7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9XG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5kYXRhW2tleV07XG4gICAgfVxuICAgIGFzeW5jIHB1cmdlRXhwaXJlZCgpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMubGFzdFB1cmdlVGltZSArIFMzRXhwcmVzc0lkZW50aXR5Q2FjaGUuRVhQSVJFRF9DUkVERU5USUFMX1BVUkdFX0lOVEVSVkFMX01TID4gbm93KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZGF0YVtrZXldO1xuICAgICAgICAgICAgaWYgKCFlbnRyeS5pc1JlZnJlc2hpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gYXdhaXQgZW50cnkuaWRlbnRpdHk7XG4gICAgICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWwuZXhwaXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbC5leHBpcmF0aW9uLmdldFRpbWUoKSA8IG5vdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuUzNFeHByZXNzSWRlbnRpdHlDYWNoZS5FWFBJUkVEX0NSRURFTlRJQUxfUFVSR0VfSU5URVJWQUxfTVMgPSAzMDAwMDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCache.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCacheEntry.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCacheEntry.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S3ExpressIdentityCacheEntry: () => (/* binding */ S3ExpressIdentityCacheEntry)\n/* harmony export */ });\nclass S3ExpressIdentityCacheEntry {\n    constructor(_identity, isRefreshing = false, accessed = Date.now()) {\n        this._identity = _identity;\n        this.isRefreshing = isRefreshing;\n        this.accessed = accessed;\n    }\n    get identity() {\n        this.accessed = Date.now();\n        return this._identity;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2NsYXNzZXMvUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVzc29uLWF1dGhvcmluZy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYXdzLXNkayttaWRkbGV3YXJlLXNkay1zM0AzLjY5My4wL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zMy9kaXN0LWVzL3MzLWV4cHJlc3MvY2xhc3Nlcy9TM0V4cHJlc3NJZGVudGl0eUNhY2hlRW50cnkuanM/OTUwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5IHtcbiAgICBjb25zdHJ1Y3RvcihfaWRlbnRpdHksIGlzUmVmcmVzaGluZyA9IGZhbHNlLCBhY2Nlc3NlZCA9IERhdGUubm93KCkpIHtcbiAgICAgICAgdGhpcy5faWRlbnRpdHkgPSBfaWRlbnRpdHk7XG4gICAgICAgIHRoaXMuaXNSZWZyZXNoaW5nID0gaXNSZWZyZXNoaW5nO1xuICAgICAgICB0aGlzLmFjY2Vzc2VkID0gYWNjZXNzZWQ7XG4gICAgfVxuICAgIGdldCBpZGVudGl0eSgpIHtcbiAgICAgICAgdGhpcy5hY2Nlc3NlZCA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGl0eTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCacheEntry.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityProviderImpl.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityProviderImpl.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S3ExpressIdentityProviderImpl: () => (/* binding */ S3ExpressIdentityProviderImpl)\n/* harmony export */ });\n/* harmony import */ var _S3ExpressIdentityCache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./S3ExpressIdentityCache */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCache.js\");\n/* harmony import */ var _S3ExpressIdentityCacheEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./S3ExpressIdentityCacheEntry */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCacheEntry.js\");\n\n\nclass S3ExpressIdentityProviderImpl {\n    constructor(createSessionFn, cache = new _S3ExpressIdentityCache__WEBPACK_IMPORTED_MODULE_0__.S3ExpressIdentityCache()) {\n        this.createSessionFn = createSessionFn;\n        this.cache = cache;\n    }\n    async getS3ExpressIdentity(awsIdentity, identityProperties) {\n        const key = identityProperties.Bucket;\n        const { cache } = this;\n        const entry = cache.get(key);\n        if (entry) {\n            return entry.identity.then((identity) => {\n                const isExpired = (identity.expiration?.getTime() ?? 0) < Date.now();\n                if (isExpired) {\n                    return cache.set(key, new _S3ExpressIdentityCacheEntry__WEBPACK_IMPORTED_MODULE_1__.S3ExpressIdentityCacheEntry(this.getIdentity(key))).identity;\n                }\n                const isExpiringSoon = (identity.expiration?.getTime() ?? 0) < Date.now() + S3ExpressIdentityProviderImpl.REFRESH_WINDOW_MS;\n                if (isExpiringSoon && !entry.isRefreshing) {\n                    entry.isRefreshing = true;\n                    this.getIdentity(key).then((id) => {\n                        cache.set(key, new _S3ExpressIdentityCacheEntry__WEBPACK_IMPORTED_MODULE_1__.S3ExpressIdentityCacheEntry(Promise.resolve(id)));\n                    });\n                }\n                return identity;\n            });\n        }\n        return cache.set(key, new _S3ExpressIdentityCacheEntry__WEBPACK_IMPORTED_MODULE_1__.S3ExpressIdentityCacheEntry(this.getIdentity(key))).identity;\n    }\n    async getIdentity(key) {\n        await this.cache.purgeExpired().catch((error) => {\n            console.warn(\"Error while clearing expired entries in S3ExpressIdentityCache: \\n\" + error);\n        });\n        const session = await this.createSessionFn(key);\n        if (!session.Credentials?.AccessKeyId || !session.Credentials?.SecretAccessKey) {\n            throw new Error(\"s3#createSession response credential missing AccessKeyId or SecretAccessKey.\");\n        }\n        const identity = {\n            accessKeyId: session.Credentials.AccessKeyId,\n            secretAccessKey: session.Credentials.SecretAccessKey,\n            sessionToken: session.Credentials.SessionToken,\n            expiration: session.Credentials.Expiration ? new Date(session.Credentials.Expiration) : undefined,\n        };\n        return identity;\n    }\n}\nS3ExpressIdentityProviderImpl.REFRESH_WINDOW_MS = 60000;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2NsYXNzZXMvUzNFeHByZXNzSWRlbnRpdHlQcm92aWRlckltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBQ1U7QUFDckU7QUFDUCw2Q0FBNkMsMkVBQXNCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHFGQUEyQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHFGQUEyQjtBQUN0RSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGtDQUFrQyxxRkFBMkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2xlc3Nvbi1hdXRob3JpbmcvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2NsYXNzZXMvUzNFeHByZXNzSWRlbnRpdHlQcm92aWRlckltcGwuanM/ZDJlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTM0V4cHJlc3NJZGVudGl0eUNhY2hlIH0gZnJvbSBcIi4vUzNFeHByZXNzSWRlbnRpdHlDYWNoZVwiO1xuaW1wb3J0IHsgUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5IH0gZnJvbSBcIi4vUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5XCI7XG5leHBvcnQgY2xhc3MgUzNFeHByZXNzSWRlbnRpdHlQcm92aWRlckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGNyZWF0ZVNlc3Npb25GbiwgY2FjaGUgPSBuZXcgUzNFeHByZXNzSWRlbnRpdHlDYWNoZSgpKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2Vzc2lvbkZuID0gY3JlYXRlU2Vzc2lvbkZuO1xuICAgICAgICB0aGlzLmNhY2hlID0gY2FjaGU7XG4gICAgfVxuICAgIGFzeW5jIGdldFMzRXhwcmVzc0lkZW50aXR5KGF3c0lkZW50aXR5LCBpZGVudGl0eVByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gaWRlbnRpdHlQcm9wZXJ0aWVzLkJ1Y2tldDtcbiAgICAgICAgY29uc3QgeyBjYWNoZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZW50cnkgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkuaWRlbnRpdHkudGhlbigoaWRlbnRpdHkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0V4cGlyZWQgPSAoaWRlbnRpdHkuZXhwaXJhdGlvbj8uZ2V0VGltZSgpID8/IDApIDwgRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZS5zZXQoa2V5LCBuZXcgUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5KHRoaXMuZ2V0SWRlbnRpdHkoa2V5KSkpLmlkZW50aXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpc0V4cGlyaW5nU29vbiA9IChpZGVudGl0eS5leHBpcmF0aW9uPy5nZXRUaW1lKCkgPz8gMCkgPCBEYXRlLm5vdygpICsgUzNFeHByZXNzSWRlbnRpdHlQcm92aWRlckltcGwuUkVGUkVTSF9XSU5ET1dfTVM7XG4gICAgICAgICAgICAgICAgaWYgKGlzRXhwaXJpbmdTb29uICYmICFlbnRyeS5pc1JlZnJlc2hpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuaXNSZWZyZXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJZGVudGl0eShrZXkpLnRoZW4oKGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZS5zZXQoa2V5LCBuZXcgUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5KFByb21pc2UucmVzb2x2ZShpZCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZS5zZXQoa2V5LCBuZXcgUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5KHRoaXMuZ2V0SWRlbnRpdHkoa2V5KSkpLmlkZW50aXR5O1xuICAgIH1cbiAgICBhc3luYyBnZXRJZGVudGl0eShrZXkpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWNoZS5wdXJnZUV4cGlyZWQoKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIHdoaWxlIGNsZWFyaW5nIGV4cGlyZWQgZW50cmllcyBpbiBTM0V4cHJlc3NJZGVudGl0eUNhY2hlOiBcXG5cIiArIGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLmNyZWF0ZVNlc3Npb25GbihrZXkpO1xuICAgICAgICBpZiAoIXNlc3Npb24uQ3JlZGVudGlhbHM/LkFjY2Vzc0tleUlkIHx8ICFzZXNzaW9uLkNyZWRlbnRpYWxzPy5TZWNyZXRBY2Nlc3NLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInMzI2NyZWF0ZVNlc3Npb24gcmVzcG9uc2UgY3JlZGVudGlhbCBtaXNzaW5nIEFjY2Vzc0tleUlkIG9yIFNlY3JldEFjY2Vzc0tleS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaWRlbnRpdHkgPSB7XG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogc2Vzc2lvbi5DcmVkZW50aWFscy5BY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgIHNlY3JldEFjY2Vzc0tleTogc2Vzc2lvbi5DcmVkZW50aWFscy5TZWNyZXRBY2Nlc3NLZXksXG4gICAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb24uQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgZXhwaXJhdGlvbjogc2Vzc2lvbi5DcmVkZW50aWFscy5FeHBpcmF0aW9uID8gbmV3IERhdGUoc2Vzc2lvbi5DcmVkZW50aWFscy5FeHBpcmF0aW9uKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbn1cblMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsLlJFRlJFU0hfV0lORE9XX01TID0gNjAwMDA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityProviderImpl.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/SignatureV4S3Express.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/SignatureV4S3Express.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SignatureV4S3Express: () => (/* binding */ SignatureV4S3Express)\n/* harmony export */ });\n/* harmony import */ var _smithy_signature_v4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @smithy/signature-v4 */ \"(rsc)/./node_modules/.pnpm/@smithy+signature-v4@4.2.3/node_modules/@smithy/signature-v4/dist-es/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/constants.js\");\n\n\nclass SignatureV4S3Express extends _smithy_signature_v4__WEBPACK_IMPORTED_MODULE_0__.SignatureV4 {\n    async signWithCredentials(requestToSign, credentials, options) {\n        const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);\n        requestToSign.headers[_constants__WEBPACK_IMPORTED_MODULE_1__.SESSION_TOKEN_HEADER] = credentials.sessionToken;\n        const privateAccess = this;\n        setSingleOverride(privateAccess, credentialsWithoutSessionToken);\n        return privateAccess.signRequest(requestToSign, options ?? {});\n    }\n    async presignWithCredentials(requestToSign, credentials, options) {\n        const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);\n        delete requestToSign.headers[_constants__WEBPACK_IMPORTED_MODULE_1__.SESSION_TOKEN_HEADER];\n        requestToSign.headers[_constants__WEBPACK_IMPORTED_MODULE_1__.SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;\n        requestToSign.query = requestToSign.query ?? {};\n        requestToSign.query[_constants__WEBPACK_IMPORTED_MODULE_1__.SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;\n        const privateAccess = this;\n        setSingleOverride(privateAccess, credentialsWithoutSessionToken);\n        return this.presign(requestToSign, options);\n    }\n}\nfunction getCredentialsWithoutSessionToken(credentials) {\n    const credentialsWithoutSessionToken = {\n        accessKeyId: credentials.accessKeyId,\n        secretAccessKey: credentials.secretAccessKey,\n        expiration: credentials.expiration,\n    };\n    return credentialsWithoutSessionToken;\n}\nfunction setSingleOverride(privateAccess, credentialsWithoutSessionToken) {\n    const id = setTimeout(() => {\n        throw new Error(\"SignatureV4S3Express credential override was created but not called.\");\n    }, 10);\n    const currentCredentialProvider = privateAccess.credentialProvider;\n    const overrideCredentialsProviderOnce = () => {\n        clearTimeout(id);\n        privateAccess.credentialProvider = currentCredentialProvider;\n        return Promise.resolve(credentialsWithoutSessionToken);\n    };\n    privateAccess.credentialProvider = overrideCredentialsProviderOnce;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2NsYXNzZXMvU2lnbmF0dXJlVjRTM0V4cHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBQzRCO0FBQ3hFLG1DQUFtQyw2REFBVztBQUNyRDtBQUNBO0FBQ0EsOEJBQThCLDREQUFvQjtBQUNsRDtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw0REFBb0I7QUFDekQsOEJBQThCLGlFQUF5QjtBQUN2RDtBQUNBLDRCQUE0QixpRUFBeUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2xlc3Nvbi1hdXRob3JpbmcvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2NsYXNzZXMvU2lnbmF0dXJlVjRTM0V4cHJlc3MuanM/NWU2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaWduYXR1cmVWNCB9IGZyb20gXCJAc21pdGh5L3NpZ25hdHVyZS12NFwiO1xuaW1wb3J0IHsgU0VTU0lPTl9UT0tFTl9IRUFERVIsIFNFU1NJT05fVE9LRU5fUVVFUllfUEFSQU0gfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY2xhc3MgU2lnbmF0dXJlVjRTM0V4cHJlc3MgZXh0ZW5kcyBTaWduYXR1cmVWNCB7XG4gICAgYXN5bmMgc2lnbldpdGhDcmVkZW50aWFscyhyZXF1ZXN0VG9TaWduLCBjcmVkZW50aWFscywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW4gPSBnZXRDcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW4oY3JlZGVudGlhbHMpO1xuICAgICAgICByZXF1ZXN0VG9TaWduLmhlYWRlcnNbU0VTU0lPTl9UT0tFTl9IRUFERVJdID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgICAgICBjb25zdCBwcml2YXRlQWNjZXNzID0gdGhpcztcbiAgICAgICAgc2V0U2luZ2xlT3ZlcnJpZGUocHJpdmF0ZUFjY2VzcywgY3JlZGVudGlhbHNXaXRob3V0U2Vzc2lvblRva2VuKTtcbiAgICAgICAgcmV0dXJuIHByaXZhdGVBY2Nlc3Muc2lnblJlcXVlc3QocmVxdWVzdFRvU2lnbiwgb3B0aW9ucyA/PyB7fSk7XG4gICAgfVxuICAgIGFzeW5jIHByZXNpZ25XaXRoQ3JlZGVudGlhbHMocmVxdWVzdFRvU2lnbiwgY3JlZGVudGlhbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbHNXaXRob3V0U2Vzc2lvblRva2VuID0gZ2V0Q3JlZGVudGlhbHNXaXRob3V0U2Vzc2lvblRva2VuKGNyZWRlbnRpYWxzKTtcbiAgICAgICAgZGVsZXRlIHJlcXVlc3RUb1NpZ24uaGVhZGVyc1tTRVNTSU9OX1RPS0VOX0hFQURFUl07XG4gICAgICAgIHJlcXVlc3RUb1NpZ24uaGVhZGVyc1tTRVNTSU9OX1RPS0VOX1FVRVJZX1BBUkFNXSA9IGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbjtcbiAgICAgICAgcmVxdWVzdFRvU2lnbi5xdWVyeSA9IHJlcXVlc3RUb1NpZ24ucXVlcnkgPz8ge307XG4gICAgICAgIHJlcXVlc3RUb1NpZ24ucXVlcnlbU0VTU0lPTl9UT0tFTl9RVUVSWV9QQVJBTV0gPSBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgICAgIGNvbnN0IHByaXZhdGVBY2Nlc3MgPSB0aGlzO1xuICAgICAgICBzZXRTaW5nbGVPdmVycmlkZShwcml2YXRlQWNjZXNzLCBjcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVzaWduKHJlcXVlc3RUb1NpZ24sIG9wdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENyZWRlbnRpYWxzV2l0aG91dFNlc3Npb25Ub2tlbihjcmVkZW50aWFscykge1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzV2l0aG91dFNlc3Npb25Ub2tlbiA9IHtcbiAgICAgICAgYWNjZXNzS2V5SWQ6IGNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkLFxuICAgICAgICBzZWNyZXRBY2Nlc3NLZXk6IGNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleSxcbiAgICAgICAgZXhwaXJhdGlvbjogY3JlZGVudGlhbHMuZXhwaXJhdGlvbixcbiAgICB9O1xuICAgIHJldHVybiBjcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW47XG59XG5mdW5jdGlvbiBzZXRTaW5nbGVPdmVycmlkZShwcml2YXRlQWNjZXNzLCBjcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW4pIHtcbiAgICBjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaWduYXR1cmVWNFMzRXhwcmVzcyBjcmVkZW50aWFsIG92ZXJyaWRlIHdhcyBjcmVhdGVkIGJ1dCBub3QgY2FsbGVkLlwiKTtcbiAgICB9LCAxMCk7XG4gICAgY29uc3QgY3VycmVudENyZWRlbnRpYWxQcm92aWRlciA9IHByaXZhdGVBY2Nlc3MuY3JlZGVudGlhbFByb3ZpZGVyO1xuICAgIGNvbnN0IG92ZXJyaWRlQ3JlZGVudGlhbHNQcm92aWRlck9uY2UgPSAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgIHByaXZhdGVBY2Nlc3MuY3JlZGVudGlhbFByb3ZpZGVyID0gY3VycmVudENyZWRlbnRpYWxQcm92aWRlcjtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjcmVkZW50aWFsc1dpdGhvdXRTZXNzaW9uVG9rZW4pO1xuICAgIH07XG4gICAgcHJpdmF0ZUFjY2Vzcy5jcmVkZW50aWFsUHJvdmlkZXIgPSBvdmVycmlkZUNyZWRlbnRpYWxzUHJvdmlkZXJPbmNlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/SignatureV4S3Express.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/constants.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/constants.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME: () => (/* binding */ NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME),\n/* harmony export */   NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME: () => (/* binding */ NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME),\n/* harmony export */   NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS: () => (/* binding */ NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS),\n/* harmony export */   S3_EXPRESS_AUTH_SCHEME: () => (/* binding */ S3_EXPRESS_AUTH_SCHEME),\n/* harmony export */   S3_EXPRESS_BACKEND: () => (/* binding */ S3_EXPRESS_BACKEND),\n/* harmony export */   S3_EXPRESS_BUCKET_TYPE: () => (/* binding */ S3_EXPRESS_BUCKET_TYPE),\n/* harmony export */   SESSION_TOKEN_HEADER: () => (/* binding */ SESSION_TOKEN_HEADER),\n/* harmony export */   SESSION_TOKEN_QUERY_PARAM: () => (/* binding */ SESSION_TOKEN_QUERY_PARAM)\n/* harmony export */ });\n/* harmony import */ var _smithy_util_config_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @smithy/util-config-provider */ \"(rsc)/./node_modules/.pnpm/@smithy+util-config-provider@3.0.0/node_modules/@smithy/util-config-provider/dist-es/index.js\");\n\nconst S3_EXPRESS_BUCKET_TYPE = \"Directory\";\nconst S3_EXPRESS_BACKEND = \"S3Express\";\nconst S3_EXPRESS_AUTH_SCHEME = \"sigv4-s3express\";\nconst SESSION_TOKEN_QUERY_PARAM = \"X-Amz-S3session-Token\";\nconst SESSION_TOKEN_HEADER = SESSION_TOKEN_QUERY_PARAM.toLowerCase();\nconst NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME = \"AWS_S3_DISABLE_EXPRESS_SESSION_AUTH\";\nconst NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME = \"s3_disable_express_session_auth\";\nconst NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS = {\n    environmentVariableSelector: (env) => (0,_smithy_util_config_provider__WEBPACK_IMPORTED_MODULE_0__.booleanSelector)(env, NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME, _smithy_util_config_provider__WEBPACK_IMPORTED_MODULE_0__.SelectorType.ENV),\n    configFileSelector: (profile) => (0,_smithy_util_config_provider__WEBPACK_IMPORTED_MODULE_0__.booleanSelector)(profile, NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME, _smithy_util_config_provider__WEBPACK_IMPORTED_MODULE_0__.SelectorType.CONFIG),\n    default: false,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNkU7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQLDBDQUEwQyw2RUFBZSxxREFBcUQsc0VBQVk7QUFDMUgscUNBQXFDLDZFQUFlLHlEQUF5RCxzRUFBWTtBQUN6SDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVzc29uLWF1dGhvcmluZy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYXdzLXNkayttaWRkbGV3YXJlLXNkay1zM0AzLjY5My4wL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zMy9kaXN0LWVzL3MzLWV4cHJlc3MvY29uc3RhbnRzLmpzPzI5ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYm9vbGVhblNlbGVjdG9yLCBTZWxlY3RvclR5cGUgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWNvbmZpZy1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IFMzX0VYUFJFU1NfQlVDS0VUX1RZUEUgPSBcIkRpcmVjdG9yeVwiO1xuZXhwb3J0IGNvbnN0IFMzX0VYUFJFU1NfQkFDS0VORCA9IFwiUzNFeHByZXNzXCI7XG5leHBvcnQgY29uc3QgUzNfRVhQUkVTU19BVVRIX1NDSEVNRSA9IFwic2lndjQtczNleHByZXNzXCI7XG5leHBvcnQgY29uc3QgU0VTU0lPTl9UT0tFTl9RVUVSWV9QQVJBTSA9IFwiWC1BbXotUzNzZXNzaW9uLVRva2VuXCI7XG5leHBvcnQgY29uc3QgU0VTU0lPTl9UT0tFTl9IRUFERVIgPSBTRVNTSU9OX1RPS0VOX1FVRVJZX1BBUkFNLnRvTG93ZXJDYXNlKCk7XG5leHBvcnQgY29uc3QgTk9ERV9ESVNBQkxFX1MzX0VYUFJFU1NfU0VTU0lPTl9BVVRIX0VOVl9OQU1FID0gXCJBV1NfUzNfRElTQUJMRV9FWFBSRVNTX1NFU1NJT05fQVVUSFwiO1xuZXhwb3J0IGNvbnN0IE5PREVfRElTQUJMRV9TM19FWFBSRVNTX1NFU1NJT05fQVVUSF9JTklfTkFNRSA9IFwiczNfZGlzYWJsZV9leHByZXNzX3Nlc3Npb25fYXV0aFwiO1xuZXhwb3J0IGNvbnN0IE5PREVfRElTQUJMRV9TM19FWFBSRVNTX1NFU1NJT05fQVVUSF9PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gYm9vbGVhblNlbGVjdG9yKGVudiwgTk9ERV9ESVNBQkxFX1MzX0VYUFJFU1NfU0VTU0lPTl9BVVRIX0VOVl9OQU1FLCBTZWxlY3RvclR5cGUuRU5WKSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBib29sZWFuU2VsZWN0b3IocHJvZmlsZSwgTk9ERV9ESVNBQkxFX1MzX0VYUFJFU1NfU0VTU0lPTl9BVVRIX0lOSV9OQU1FLCBTZWxlY3RvclR5cGUuQ09ORklHKSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/constants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressHttpSigningMiddleware.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressHttpSigningMiddleware.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getS3ExpressHttpSigningPlugin: () => (/* binding */ getS3ExpressHttpSigningPlugin),\n/* harmony export */   s3ExpressHttpSigningMiddleware: () => (/* binding */ s3ExpressHttpSigningMiddleware),\n/* harmony export */   s3ExpressHttpSigningMiddlewareOptions: () => (/* binding */ s3ExpressHttpSigningMiddlewareOptions)\n/* harmony export */ });\n/* harmony import */ var _smithy_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @smithy/core */ \"(rsc)/./node_modules/.pnpm/@smithy+core@2.5.3/node_modules/@smithy/core/dist-es/index.js\");\n/* harmony import */ var _smithy_protocol_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @smithy/protocol-http */ \"(rsc)/./node_modules/.pnpm/@smithy+protocol-http@4.1.7/node_modules/@smithy/protocol-http/dist-es/index.js\");\n/* harmony import */ var _smithy_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @smithy/types */ \"(rsc)/./node_modules/.pnpm/@smithy+types@3.7.1/node_modules/@smithy/types/dist-es/index.js\");\n/* harmony import */ var _smithy_util_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @smithy/util-middleware */ \"(rsc)/./node_modules/.pnpm/@smithy+util-middleware@3.0.10/node_modules/@smithy/util-middleware/dist-es/index.js\");\n/* harmony import */ var _signS3Express__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./signS3Express */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/signS3Express.js\");\n\n\n\n\n\nconst defaultErrorHandler = (signingProperties) => (error) => {\n    throw error;\n};\nconst defaultSuccessHandler = (httpResponse, signingProperties) => { };\nconst s3ExpressHttpSigningMiddlewareOptions = _smithy_core__WEBPACK_IMPORTED_MODULE_0__.httpSigningMiddlewareOptions;\nconst s3ExpressHttpSigningMiddleware = (config) => (next, context) => async (args) => {\n    if (!_smithy_protocol_http__WEBPACK_IMPORTED_MODULE_1__.HttpRequest.isInstance(args.request)) {\n        return next(args);\n    }\n    const smithyContext = (0,_smithy_util_middleware__WEBPACK_IMPORTED_MODULE_3__.getSmithyContext)(context);\n    const scheme = smithyContext.selectedHttpAuthScheme;\n    if (!scheme) {\n        throw new Error(`No HttpAuthScheme was selected: unable to sign request`);\n    }\n    const { httpAuthOption: { signingProperties = {} }, identity, signer, } = scheme;\n    let request;\n    if (context.s3ExpressIdentity) {\n        request = await (0,_signS3Express__WEBPACK_IMPORTED_MODULE_4__.signS3Express)(context.s3ExpressIdentity, signingProperties, args.request, await config.signer());\n    }\n    else {\n        request = await signer.sign(args.request, identity, signingProperties);\n    }\n    const output = await next({\n        ...args,\n        request,\n    }).catch((signer.errorHandler || defaultErrorHandler)(signingProperties));\n    (signer.successHandler || defaultSuccessHandler)(output.response, signingProperties);\n    return output;\n};\nconst getS3ExpressHttpSigningPlugin = (config) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(s3ExpressHttpSigningMiddleware(config), _smithy_core__WEBPACK_IMPORTED_MODULE_0__.httpSigningMiddlewareOptions);\n    },\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2Z1bmN0aW9ucy9zM0V4cHJlc3NIdHRwU2lnbmluZ01pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNEQ7QUFDUjtBQUNBO0FBQ087QUFDWDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDhDQUE4QyxzRUFBNEI7QUFDMUU7QUFDUCxTQUFTLDhEQUFXO0FBQ3BCO0FBQ0E7QUFDQSwwQkFBMEIseUVBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQkFBa0Isd0JBQXdCLHNCQUFzQjtBQUM1RTtBQUNBO0FBQ0Esd0JBQXdCLDZEQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSwwRUFBMEUsc0VBQTRCO0FBQ3RHLEtBQUs7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVzc29uLWF1dGhvcmluZy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYXdzLXNkayttaWRkbGV3YXJlLXNkay1zM0AzLjY5My4wL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zMy9kaXN0LWVzL3MzLWV4cHJlc3MvZnVuY3Rpb25zL3MzRXhwcmVzc0h0dHBTaWduaW5nTWlkZGxld2FyZS5qcz9iNzYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGh0dHBTaWduaW5nTWlkZGxld2FyZU9wdGlvbnMgfSBmcm9tIFwiQHNtaXRoeS9jb3JlXCI7XG5pbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IFNNSVRIWV9DT05URVhUX0tFWSwgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuaW1wb3J0IHsgZ2V0U21pdGh5Q29udGV4dCB9IGZyb20gXCJAc21pdGh5L3V0aWwtbWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgc2lnblMzRXhwcmVzcyB9IGZyb20gXCIuL3NpZ25TM0V4cHJlc3NcIjtcbmNvbnN0IGRlZmF1bHRFcnJvckhhbmRsZXIgPSAoc2lnbmluZ1Byb3BlcnRpZXMpID0+IChlcnJvcikgPT4ge1xuICAgIHRocm93IGVycm9yO1xufTtcbmNvbnN0IGRlZmF1bHRTdWNjZXNzSGFuZGxlciA9IChodHRwUmVzcG9uc2UsIHNpZ25pbmdQcm9wZXJ0aWVzKSA9PiB7IH07XG5leHBvcnQgY29uc3QgczNFeHByZXNzSHR0cFNpZ25pbmdNaWRkbGV3YXJlT3B0aW9ucyA9IGh0dHBTaWduaW5nTWlkZGxld2FyZU9wdGlvbnM7XG5leHBvcnQgY29uc3QgczNFeHByZXNzSHR0cFNpZ25pbmdNaWRkbGV3YXJlID0gKGNvbmZpZykgPT4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfVxuICAgIGNvbnN0IHNtaXRoeUNvbnRleHQgPSBnZXRTbWl0aHlDb250ZXh0KGNvbnRleHQpO1xuICAgIGNvbnN0IHNjaGVtZSA9IHNtaXRoeUNvbnRleHQuc2VsZWN0ZWRIdHRwQXV0aFNjaGVtZTtcbiAgICBpZiAoIXNjaGVtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIEh0dHBBdXRoU2NoZW1lIHdhcyBzZWxlY3RlZDogdW5hYmxlIHRvIHNpZ24gcmVxdWVzdGApO1xuICAgIH1cbiAgICBjb25zdCB7IGh0dHBBdXRoT3B0aW9uOiB7IHNpZ25pbmdQcm9wZXJ0aWVzID0ge30gfSwgaWRlbnRpdHksIHNpZ25lciwgfSA9IHNjaGVtZTtcbiAgICBsZXQgcmVxdWVzdDtcbiAgICBpZiAoY29udGV4dC5zM0V4cHJlc3NJZGVudGl0eSkge1xuICAgICAgICByZXF1ZXN0ID0gYXdhaXQgc2lnblMzRXhwcmVzcyhjb250ZXh0LnMzRXhwcmVzc0lkZW50aXR5LCBzaWduaW5nUHJvcGVydGllcywgYXJncy5yZXF1ZXN0LCBhd2FpdCBjb25maWcuc2lnbmVyKCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVxdWVzdCA9IGF3YWl0IHNpZ25lci5zaWduKGFyZ3MucmVxdWVzdCwgaWRlbnRpdHksIHNpZ25pbmdQcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgbmV4dCh7XG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgfSkuY2F0Y2goKHNpZ25lci5lcnJvckhhbmRsZXIgfHwgZGVmYXVsdEVycm9ySGFuZGxlcikoc2lnbmluZ1Byb3BlcnRpZXMpKTtcbiAgICAoc2lnbmVyLnN1Y2Nlc3NIYW5kbGVyIHx8IGRlZmF1bHRTdWNjZXNzSGFuZGxlcikob3V0cHV0LnJlc3BvbnNlLCBzaWduaW5nUHJvcGVydGllcyk7XG4gICAgcmV0dXJuIG91dHB1dDtcbn07XG5leHBvcnQgY29uc3QgZ2V0UzNFeHByZXNzSHR0cFNpZ25pbmdQbHVnaW4gPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oczNFeHByZXNzSHR0cFNpZ25pbmdNaWRkbGV3YXJlKGNvbmZpZyksIGh0dHBTaWduaW5nTWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressHttpSigningMiddleware.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressMiddleware.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressMiddleware.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getS3ExpressPlugin: () => (/* binding */ getS3ExpressPlugin),\n/* harmony export */   s3ExpressMiddleware: () => (/* binding */ s3ExpressMiddleware),\n/* harmony export */   s3ExpressMiddlewareOptions: () => (/* binding */ s3ExpressMiddlewareOptions)\n/* harmony export */ });\n/* harmony import */ var _aws_sdk_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aws-sdk/core */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+core@3.693.0/node_modules/@aws-sdk/core/dist-es/submodules/client/setFeature.js\");\n/* harmony import */ var _smithy_protocol_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @smithy/protocol-http */ \"(rsc)/./node_modules/.pnpm/@smithy+protocol-http@4.1.7/node_modules/@smithy/protocol-http/dist-es/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/constants.js\");\n\n\n\nconst s3ExpressMiddleware = (options) => {\n    return (next, context) => async (args) => {\n        if (context.endpointV2) {\n            const endpoint = context.endpointV2;\n            const isS3ExpressAuth = endpoint.properties?.authSchemes?.[0]?.name === _constants__WEBPACK_IMPORTED_MODULE_1__.S3_EXPRESS_AUTH_SCHEME;\n            const isS3ExpressBucket = endpoint.properties?.backend === _constants__WEBPACK_IMPORTED_MODULE_1__.S3_EXPRESS_BACKEND ||\n                endpoint.properties?.bucketType === _constants__WEBPACK_IMPORTED_MODULE_1__.S3_EXPRESS_BUCKET_TYPE;\n            if (isS3ExpressBucket) {\n                (0,_aws_sdk_core__WEBPACK_IMPORTED_MODULE_2__.setFeature)(context, \"S3_EXPRESS_BUCKET\", \"J\");\n                context.isS3ExpressBucket = true;\n            }\n            if (isS3ExpressAuth) {\n                const requestBucket = args.input.Bucket;\n                if (requestBucket) {\n                    const s3ExpressIdentity = await options.s3ExpressIdentityProvider.getS3ExpressIdentity(await options.credentials(), {\n                        Bucket: requestBucket,\n                    });\n                    context.s3ExpressIdentity = s3ExpressIdentity;\n                    if (_smithy_protocol_http__WEBPACK_IMPORTED_MODULE_0__.HttpRequest.isInstance(args.request) && s3ExpressIdentity.sessionToken) {\n                        args.request.headers[_constants__WEBPACK_IMPORTED_MODULE_1__.SESSION_TOKEN_HEADER] = s3ExpressIdentity.sessionToken;\n                    }\n                }\n            }\n        }\n        return next(args);\n    };\n};\nconst s3ExpressMiddlewareOptions = {\n    name: \"s3ExpressMiddleware\",\n    step: \"build\",\n    tags: [\"S3\", \"S3_EXPRESS\"],\n    override: true,\n};\nconst getS3ExpressPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(s3ExpressMiddleware(options), s3ExpressMiddlewareOptions);\n    },\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2Z1bmN0aW9ucy9zM0V4cHJlc3NNaWRkbGV3YXJlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyQztBQUNTO0FBQ29FO0FBQ2pIO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLDhEQUFzQjtBQUMxRyx1RUFBdUUsMERBQWtCO0FBQ3pGLG9EQUFvRCw4REFBc0I7QUFDMUU7QUFDQSxnQkFBZ0IseURBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSx3QkFBd0IsOERBQVc7QUFDbkMsNkNBQTZDLDREQUFvQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVzc29uLWF1dGhvcmluZy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYXdzLXNkayttaWRkbGV3YXJlLXNkay1zM0AzLjY5My4wL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zMy9kaXN0LWVzL3MzLWV4cHJlc3MvZnVuY3Rpb25zL3MzRXhwcmVzc01pZGRsZXdhcmUuanM/NGM5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRGZWF0dXJlIH0gZnJvbSBcIkBhd3Mtc2RrL2NvcmVcIjtcbmltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgUzNfRVhQUkVTU19BVVRIX1NDSEVNRSwgUzNfRVhQUkVTU19CQUNLRU5ELCBTM19FWFBSRVNTX0JVQ0tFVF9UWVBFLCBTRVNTSU9OX1RPS0VOX0hFQURFUiB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCBzM0V4cHJlc3NNaWRkbGV3YXJlID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgIGlmIChjb250ZXh0LmVuZHBvaW50VjIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gY29udGV4dC5lbmRwb2ludFYyO1xuICAgICAgICAgICAgY29uc3QgaXNTM0V4cHJlc3NBdXRoID0gZW5kcG9pbnQucHJvcGVydGllcz8uYXV0aFNjaGVtZXM/LlswXT8ubmFtZSA9PT0gUzNfRVhQUkVTU19BVVRIX1NDSEVNRTtcbiAgICAgICAgICAgIGNvbnN0IGlzUzNFeHByZXNzQnVja2V0ID0gZW5kcG9pbnQucHJvcGVydGllcz8uYmFja2VuZCA9PT0gUzNfRVhQUkVTU19CQUNLRU5EIHx8XG4gICAgICAgICAgICAgICAgZW5kcG9pbnQucHJvcGVydGllcz8uYnVja2V0VHlwZSA9PT0gUzNfRVhQUkVTU19CVUNLRVRfVFlQRTtcbiAgICAgICAgICAgIGlmIChpc1MzRXhwcmVzc0J1Y2tldCkge1xuICAgICAgICAgICAgICAgIHNldEZlYXR1cmUoY29udGV4dCwgXCJTM19FWFBSRVNTX0JVQ0tFVFwiLCBcIkpcIik7XG4gICAgICAgICAgICAgICAgY29udGV4dC5pc1MzRXhwcmVzc0J1Y2tldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTM0V4cHJlc3NBdXRoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdEJ1Y2tldCA9IGFyZ3MuaW5wdXQuQnVja2V0O1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0QnVja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMzRXhwcmVzc0lkZW50aXR5ID0gYXdhaXQgb3B0aW9ucy5zM0V4cHJlc3NJZGVudGl0eVByb3ZpZGVyLmdldFMzRXhwcmVzc0lkZW50aXR5KGF3YWl0IG9wdGlvbnMuY3JlZGVudGlhbHMoKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgQnVja2V0OiByZXF1ZXN0QnVja2V0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zM0V4cHJlc3NJZGVudGl0eSA9IHMzRXhwcmVzc0lkZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShhcmdzLnJlcXVlc3QpICYmIHMzRXhwcmVzc0lkZW50aXR5LnNlc3Npb25Ub2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5yZXF1ZXN0LmhlYWRlcnNbU0VTU0lPTl9UT0tFTl9IRUFERVJdID0gczNFeHByZXNzSWRlbnRpdHkuc2Vzc2lvblRva2VuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IHMzRXhwcmVzc01pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIG5hbWU6IFwiczNFeHByZXNzTWlkZGxld2FyZVwiLFxuICAgIHN0ZXA6IFwiYnVpbGRcIixcbiAgICB0YWdzOiBbXCJTM1wiLCBcIlMzX0VYUFJFU1NcIl0sXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldFMzRXhwcmVzc1BsdWdpbiA9IChvcHRpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZChzM0V4cHJlc3NNaWRkbGV3YXJlKG9wdGlvbnMpLCBzM0V4cHJlc3NNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressMiddleware.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/signS3Express.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/signS3Express.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signS3Express: () => (/* binding */ signS3Express)\n/* harmony export */ });\nconst signS3Express = async (s3ExpressIdentity, signingOptions, request, sigV4MultiRegionSigner) => {\n    const signedRequest = await sigV4MultiRegionSigner.signWithCredentials(request, s3ExpressIdentity, {});\n    if (signedRequest.headers[\"X-Amz-Security-Token\"] || signedRequest.headers[\"x-amz-security-token\"]) {\n        throw new Error(\"X-Amz-Security-Token must not be set for s3-express requests.\");\n    }\n    return signedRequest;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2Z1bmN0aW9ucy9zaWduUzNFeHByZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQLHlHQUF5RztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVzc29uLWF1dGhvcmluZy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYXdzLXNkayttaWRkbGV3YXJlLXNkay1zM0AzLjY5My4wL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zMy9kaXN0LWVzL3MzLWV4cHJlc3MvZnVuY3Rpb25zL3NpZ25TM0V4cHJlc3MuanM/ZmFjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2lnblMzRXhwcmVzcyA9IGFzeW5jIChzM0V4cHJlc3NJZGVudGl0eSwgc2lnbmluZ09wdGlvbnMsIHJlcXVlc3QsIHNpZ1Y0TXVsdGlSZWdpb25TaWduZXIpID0+IHtcbiAgICBjb25zdCBzaWduZWRSZXF1ZXN0ID0gYXdhaXQgc2lnVjRNdWx0aVJlZ2lvblNpZ25lci5zaWduV2l0aENyZWRlbnRpYWxzKHJlcXVlc3QsIHMzRXhwcmVzc0lkZW50aXR5LCB7fSk7XG4gICAgaWYgKHNpZ25lZFJlcXVlc3QuaGVhZGVyc1tcIlgtQW16LVNlY3VyaXR5LVRva2VuXCJdIHx8IHNpZ25lZFJlcXVlc3QuaGVhZGVyc1tcIngtYW16LXNlY3VyaXR5LXRva2VuXCJdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlgtQW16LVNlY3VyaXR5LVRva2VuIG11c3Qgbm90IGJlIHNldCBmb3IgczMtZXhwcmVzcyByZXF1ZXN0cy5cIik7XG4gICAgfVxuICAgIHJldHVybiBzaWduZWRSZXF1ZXN0O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/signS3Express.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/index.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/index.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_4__.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS),\n/* harmony export */   S3ExpressIdentityCache: () => (/* reexport safe */ _classes_S3ExpressIdentityCache__WEBPACK_IMPORTED_MODULE_0__.S3ExpressIdentityCache),\n/* harmony export */   S3ExpressIdentityCacheEntry: () => (/* reexport safe */ _classes_S3ExpressIdentityCacheEntry__WEBPACK_IMPORTED_MODULE_1__.S3ExpressIdentityCacheEntry),\n/* harmony export */   S3ExpressIdentityProviderImpl: () => (/* reexport safe */ _classes_S3ExpressIdentityProviderImpl__WEBPACK_IMPORTED_MODULE_2__.S3ExpressIdentityProviderImpl),\n/* harmony export */   SignatureV4S3Express: () => (/* reexport safe */ _classes_SignatureV4S3Express__WEBPACK_IMPORTED_MODULE_3__.SignatureV4S3Express),\n/* harmony export */   getS3ExpressHttpSigningPlugin: () => (/* reexport safe */ _functions_s3ExpressHttpSigningMiddleware__WEBPACK_IMPORTED_MODULE_6__.getS3ExpressHttpSigningPlugin),\n/* harmony export */   getS3ExpressPlugin: () => (/* reexport safe */ _functions_s3ExpressMiddleware__WEBPACK_IMPORTED_MODULE_5__.getS3ExpressPlugin),\n/* harmony export */   s3ExpressHttpSigningMiddleware: () => (/* reexport safe */ _functions_s3ExpressHttpSigningMiddleware__WEBPACK_IMPORTED_MODULE_6__.s3ExpressHttpSigningMiddleware),\n/* harmony export */   s3ExpressHttpSigningMiddlewareOptions: () => (/* reexport safe */ _functions_s3ExpressHttpSigningMiddleware__WEBPACK_IMPORTED_MODULE_6__.s3ExpressHttpSigningMiddlewareOptions),\n/* harmony export */   s3ExpressMiddleware: () => (/* reexport safe */ _functions_s3ExpressMiddleware__WEBPACK_IMPORTED_MODULE_5__.s3ExpressMiddleware),\n/* harmony export */   s3ExpressMiddlewareOptions: () => (/* reexport safe */ _functions_s3ExpressMiddleware__WEBPACK_IMPORTED_MODULE_5__.s3ExpressMiddlewareOptions)\n/* harmony export */ });\n/* harmony import */ var _classes_S3ExpressIdentityCache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./classes/S3ExpressIdentityCache */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCache.js\");\n/* harmony import */ var _classes_S3ExpressIdentityCacheEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./classes/S3ExpressIdentityCacheEntry */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCacheEntry.js\");\n/* harmony import */ var _classes_S3ExpressIdentityProviderImpl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./classes/S3ExpressIdentityProviderImpl */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityProviderImpl.js\");\n/* harmony import */ var _classes_SignatureV4S3Express__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./classes/SignatureV4S3Express */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/SignatureV4S3Express.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/constants.js\");\n/* harmony import */ var _functions_s3ExpressMiddleware__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./functions/s3ExpressMiddleware */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressMiddleware.js\");\n/* harmony import */ var _functions_s3ExpressHttpSigningMiddleware__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./functions/s3ExpressHttpSigningMiddleware */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressHttpSigningMiddleware.js\");\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwRTtBQUNVO0FBQ0k7QUFDbEI7QUFDSztBQUMyQztBQUM2QyIsInNvdXJjZXMiOlsid2VicGFjazovL2xlc3Nvbi1hdXRob3JpbmcvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zMy1leHByZXNzL2luZGV4LmpzP2FiYTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgUzNFeHByZXNzSWRlbnRpdHlDYWNoZSB9IGZyb20gXCIuL2NsYXNzZXMvUzNFeHByZXNzSWRlbnRpdHlDYWNoZVwiO1xuZXhwb3J0IHsgUzNFeHByZXNzSWRlbnRpdHlDYWNoZUVudHJ5IH0gZnJvbSBcIi4vY2xhc3Nlcy9TM0V4cHJlc3NJZGVudGl0eUNhY2hlRW50cnlcIjtcbmV4cG9ydCB7IFMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsIH0gZnJvbSBcIi4vY2xhc3Nlcy9TM0V4cHJlc3NJZGVudGl0eVByb3ZpZGVySW1wbFwiO1xuZXhwb3J0IHsgU2lnbmF0dXJlVjRTM0V4cHJlc3MgfSBmcm9tIFwiLi9jbGFzc2VzL1NpZ25hdHVyZVY0UzNFeHByZXNzXCI7XG5leHBvcnQgeyBOT0RFX0RJU0FCTEVfUzNfRVhQUkVTU19TRVNTSU9OX0FVVEhfT1BUSU9OUyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IHsgZ2V0UzNFeHByZXNzUGx1Z2luLCBzM0V4cHJlc3NNaWRkbGV3YXJlLCBzM0V4cHJlc3NNaWRkbGV3YXJlT3B0aW9ucyB9IGZyb20gXCIuL2Z1bmN0aW9ucy9zM0V4cHJlc3NNaWRkbGV3YXJlXCI7XG5leHBvcnQgeyBnZXRTM0V4cHJlc3NIdHRwU2lnbmluZ1BsdWdpbiwgczNFeHByZXNzSHR0cFNpZ25pbmdNaWRkbGV3YXJlLCBzM0V4cHJlc3NIdHRwU2lnbmluZ01pZGRsZXdhcmVPcHRpb25zLCB9IGZyb20gXCIuL2Z1bmN0aW9ucy9zM0V4cHJlc3NIdHRwU2lnbmluZ01pZGRsZXdhcmVcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3Configuration.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3Configuration.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resolveS3Config: () => (/* binding */ resolveS3Config)\n/* harmony export */ });\n/* harmony import */ var _s3_express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./s3-express */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/index.js\");\n\nconst resolveS3Config = (input, { session, }) => {\n    const [s3ClientProvider, CreateSessionCommandCtor] = session;\n    return {\n        ...input,\n        forcePathStyle: input.forcePathStyle ?? false,\n        useAccelerateEndpoint: input.useAccelerateEndpoint ?? false,\n        disableMultiregionAccessPoints: input.disableMultiregionAccessPoints ?? false,\n        followRegionRedirects: input.followRegionRedirects ?? false,\n        s3ExpressIdentityProvider: input.s3ExpressIdentityProvider ??\n            new _s3_express__WEBPACK_IMPORTED_MODULE_0__.S3ExpressIdentityProviderImpl(async (key) => s3ClientProvider().send(new CreateSessionCommandCtor({\n                Bucket: key,\n                SessionMode: \"ReadWrite\",\n            }))),\n        bucketEndpoint: input.bucketEndpoint ?? false,\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy9zM0NvbmZpZ3VyYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkQ7QUFDdEQsa0NBQWtDLFVBQVU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzRUFBNkI7QUFDN0M7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZXNzb24tYXV0aG9yaW5nLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtc2RrLXMzQDMuNjkzLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzL2Rpc3QtZXMvczNDb25maWd1cmF0aW9uLmpzPzg5YzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUzNFeHByZXNzSWRlbnRpdHlQcm92aWRlckltcGwgfSBmcm9tIFwiLi9zMy1leHByZXNzXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVMzQ29uZmlnID0gKGlucHV0LCB7IHNlc3Npb24sIH0pID0+IHtcbiAgICBjb25zdCBbczNDbGllbnRQcm92aWRlciwgQ3JlYXRlU2Vzc2lvbkNvbW1hbmRDdG9yXSA9IHNlc3Npb247XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIGZvcmNlUGF0aFN0eWxlOiBpbnB1dC5mb3JjZVBhdGhTdHlsZSA/PyBmYWxzZSxcbiAgICAgICAgdXNlQWNjZWxlcmF0ZUVuZHBvaW50OiBpbnB1dC51c2VBY2NlbGVyYXRlRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIGRpc2FibGVNdWx0aXJlZ2lvbkFjY2Vzc1BvaW50czogaW5wdXQuZGlzYWJsZU11bHRpcmVnaW9uQWNjZXNzUG9pbnRzID8/IGZhbHNlLFxuICAgICAgICBmb2xsb3dSZWdpb25SZWRpcmVjdHM6IGlucHV0LmZvbGxvd1JlZ2lvblJlZGlyZWN0cyA/PyBmYWxzZSxcbiAgICAgICAgczNFeHByZXNzSWRlbnRpdHlQcm92aWRlcjogaW5wdXQuczNFeHByZXNzSWRlbnRpdHlQcm92aWRlciA/P1xuICAgICAgICAgICAgbmV3IFMzRXhwcmVzc0lkZW50aXR5UHJvdmlkZXJJbXBsKGFzeW5jIChrZXkpID0+IHMzQ2xpZW50UHJvdmlkZXIoKS5zZW5kKG5ldyBDcmVhdGVTZXNzaW9uQ29tbWFuZEN0b3Ioe1xuICAgICAgICAgICAgICAgIEJ1Y2tldDoga2V5LFxuICAgICAgICAgICAgICAgIFNlc3Npb25Nb2RlOiBcIlJlYWRXcml0ZVwiLFxuICAgICAgICAgICAgfSkpKSxcbiAgICAgICAgYnVja2V0RW5kcG9pbnQ6IGlucHV0LmJ1Y2tldEVuZHBvaW50ID8/IGZhbHNlLFxuICAgIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3Configuration.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/throw-200-exceptions.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/throw-200-exceptions.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getThrow200ExceptionsPlugin: () => (/* binding */ getThrow200ExceptionsPlugin),\n/* harmony export */   throw200ExceptionsMiddleware: () => (/* binding */ throw200ExceptionsMiddleware),\n/* harmony export */   throw200ExceptionsMiddlewareOptions: () => (/* binding */ throw200ExceptionsMiddlewareOptions)\n/* harmony export */ });\n/* harmony import */ var _smithy_protocol_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @smithy/protocol-http */ \"(rsc)/./node_modules/.pnpm/@smithy+protocol-http@4.1.7/node_modules/@smithy/protocol-http/dist-es/index.js\");\n/* harmony import */ var _smithy_util_stream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @smithy/util-stream */ \"(rsc)/./node_modules/.pnpm/@smithy+util-stream@3.3.1/node_modules/@smithy/util-stream/dist-es/index.js\");\n\n\nconst THROW_IF_EMPTY_BODY = {\n    CopyObjectCommand: true,\n    UploadPartCopyCommand: true,\n    CompleteMultipartUploadCommand: true,\n};\nconst MAX_BYTES_TO_INSPECT = 3000;\nconst throw200ExceptionsMiddleware = (config) => (next, context) => async (args) => {\n    const result = await next(args);\n    const { response } = result;\n    if (!_smithy_protocol_http__WEBPACK_IMPORTED_MODULE_0__.HttpResponse.isInstance(response)) {\n        return result;\n    }\n    const { statusCode, body: sourceBody } = response;\n    if (statusCode < 200 || statusCode >= 300) {\n        return result;\n    }\n    const isSplittableStream = typeof sourceBody?.stream === \"function\" ||\n        typeof sourceBody?.pipe === \"function\" ||\n        typeof sourceBody?.tee === \"function\";\n    if (!isSplittableStream) {\n        return result;\n    }\n    let bodyCopy = sourceBody;\n    let body = sourceBody;\n    if (sourceBody && typeof sourceBody === \"object\" && !(sourceBody instanceof Uint8Array)) {\n        [bodyCopy, body] = await (0,_smithy_util_stream__WEBPACK_IMPORTED_MODULE_1__.splitStream)(sourceBody);\n    }\n    response.body = body;\n    const bodyBytes = await collectBody(bodyCopy, {\n        streamCollector: async (stream) => {\n            return (0,_smithy_util_stream__WEBPACK_IMPORTED_MODULE_1__.headStream)(stream, MAX_BYTES_TO_INSPECT);\n        },\n    });\n    if (typeof bodyCopy?.destroy === \"function\") {\n        bodyCopy.destroy();\n    }\n    const bodyStringTail = config.utf8Encoder(bodyBytes.subarray(bodyBytes.length - 16));\n    if (bodyBytes.length === 0 && THROW_IF_EMPTY_BODY[context.commandName]) {\n        const err = new Error(\"S3 aborted request\");\n        err.name = \"InternalError\";\n        throw err;\n    }\n    if (bodyStringTail && bodyStringTail.endsWith(\"</Error>\")) {\n        response.statusCode = 400;\n    }\n    return result;\n};\nconst collectBody = (streamBody = new Uint8Array(), context) => {\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n};\nconst throw200ExceptionsMiddlewareOptions = {\n    relation: \"after\",\n    toMiddleware: \"deserializerMiddleware\",\n    tags: [\"THROW_200_EXCEPTIONS\", \"S3\"],\n    name: \"throw200ExceptionsMiddleware\",\n    override: true,\n};\nconst getThrow200ExceptionsPlugin = (config) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(throw200ExceptionsMiddleware(config), throw200ExceptionsMiddlewareOptions);\n    },\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy90aHJvdy0yMDAtZXhjZXB0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUNTO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxZQUFZLFdBQVc7QUFDdkIsU0FBUywrREFBWTtBQUNyQjtBQUNBO0FBQ0EsWUFBWSwrQkFBK0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGdFQUFXO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtEQUFVO0FBQzdCLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZXNzb24tYXV0aG9yaW5nLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtc2RrLXMzQDMuNjkzLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXMzL2Rpc3QtZXMvdGhyb3ctMjAwLWV4Y2VwdGlvbnMuanM/MDk1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBoZWFkU3RyZWFtLCBzcGxpdFN0cmVhbSB9IGZyb20gXCJAc21pdGh5L3V0aWwtc3RyZWFtXCI7XG5jb25zdCBUSFJPV19JRl9FTVBUWV9CT0RZID0ge1xuICAgIENvcHlPYmplY3RDb21tYW5kOiB0cnVlLFxuICAgIFVwbG9hZFBhcnRDb3B5Q29tbWFuZDogdHJ1ZSxcbiAgICBDb21wbGV0ZU11bHRpcGFydFVwbG9hZENvbW1hbmQ6IHRydWUsXG59O1xuY29uc3QgTUFYX0JZVEVTX1RPX0lOU1BFQ1QgPSAzMDAwO1xuZXhwb3J0IGNvbnN0IHRocm93MjAwRXhjZXB0aW9uc01pZGRsZXdhcmUgPSAoY29uZmlnKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IHsgcmVzcG9uc2UgfSA9IHJlc3VsdDtcbiAgICBpZiAoIUh0dHBSZXNwb25zZS5pc0luc3RhbmNlKHJlc3BvbnNlKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCB7IHN0YXR1c0NvZGUsIGJvZHk6IHNvdXJjZUJvZHkgfSA9IHJlc3BvbnNlO1xuICAgIGlmIChzdGF0dXNDb2RlIDwgMjAwIHx8IHN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGlzU3BsaXR0YWJsZVN0cmVhbSA9IHR5cGVvZiBzb3VyY2VCb2R5Py5zdHJlYW0gPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICB0eXBlb2Ygc291cmNlQm9keT8ucGlwZSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAgIHR5cGVvZiBzb3VyY2VCb2R5Py50ZWUgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBpZiAoIWlzU3BsaXR0YWJsZVN0cmVhbSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBsZXQgYm9keUNvcHkgPSBzb3VyY2VCb2R5O1xuICAgIGxldCBib2R5ID0gc291cmNlQm9keTtcbiAgICBpZiAoc291cmNlQm9keSAmJiB0eXBlb2Ygc291cmNlQm9keSA9PT0gXCJvYmplY3RcIiAmJiAhKHNvdXJjZUJvZHkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgICBbYm9keUNvcHksIGJvZHldID0gYXdhaXQgc3BsaXRTdHJlYW0oc291cmNlQm9keSk7XG4gICAgfVxuICAgIHJlc3BvbnNlLmJvZHkgPSBib2R5O1xuICAgIGNvbnN0IGJvZHlCeXRlcyA9IGF3YWl0IGNvbGxlY3RCb2R5KGJvZHlDb3B5LCB7XG4gICAgICAgIHN0cmVhbUNvbGxlY3RvcjogYXN5bmMgKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRTdHJlYW0oc3RyZWFtLCBNQVhfQllURVNfVE9fSU5TUEVDVCk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBib2R5Q29weT8uZGVzdHJveSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGJvZHlDb3B5LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgY29uc3QgYm9keVN0cmluZ1RhaWwgPSBjb25maWcudXRmOEVuY29kZXIoYm9keUJ5dGVzLnN1YmFycmF5KGJvZHlCeXRlcy5sZW5ndGggLSAxNikpO1xuICAgIGlmIChib2R5Qnl0ZXMubGVuZ3RoID09PSAwICYmIFRIUk9XX0lGX0VNUFRZX0JPRFlbY29udGV4dC5jb21tYW5kTmFtZV0pIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwiUzMgYWJvcnRlZCByZXF1ZXN0XCIpO1xuICAgICAgICBlcnIubmFtZSA9IFwiSW50ZXJuYWxFcnJvclwiO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIGlmIChib2R5U3RyaW5nVGFpbCAmJiBib2R5U3RyaW5nVGFpbC5lbmRzV2l0aChcIjwvRXJyb3I+XCIpKSB7XG4gICAgICAgIHJlc3BvbnNlLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuY29uc3QgY29sbGVjdEJvZHkgPSAoc3RyZWFtQm9keSA9IG5ldyBVaW50OEFycmF5KCksIGNvbnRleHQpID0+IHtcbiAgICBpZiAoc3RyZWFtQm9keSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdHJlYW1Cb2R5KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuc3RyZWFtQ29sbGVjdG9yKHN0cmVhbUJvZHkpIHx8IFByb21pc2UucmVzb2x2ZShuZXcgVWludDhBcnJheSgpKTtcbn07XG5leHBvcnQgY29uc3QgdGhyb3cyMDBFeGNlcHRpb25zTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgcmVsYXRpb246IFwiYWZ0ZXJcIixcbiAgICB0b01pZGRsZXdhcmU6IFwiZGVzZXJpYWxpemVyTWlkZGxld2FyZVwiLFxuICAgIHRhZ3M6IFtcIlRIUk9XXzIwMF9FWENFUFRJT05TXCIsIFwiUzNcIl0sXG4gICAgbmFtZTogXCJ0aHJvdzIwMEV4Y2VwdGlvbnNNaWRkbGV3YXJlXCIsXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldFRocm93MjAwRXhjZXB0aW9uc1BsdWdpbiA9IChjb25maWcpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkUmVsYXRpdmVUbyh0aHJvdzIwMEV4Y2VwdGlvbnNNaWRkbGV3YXJlKGNvbmZpZyksIHRocm93MjAwRXhjZXB0aW9uc01pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/throw-200-exceptions.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/validate-bucket-name.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/validate-bucket-name.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getValidateBucketNamePlugin: () => (/* binding */ getValidateBucketNamePlugin),\n/* harmony export */   validateBucketNameMiddleware: () => (/* binding */ validateBucketNameMiddleware),\n/* harmony export */   validateBucketNameMiddlewareOptions: () => (/* binding */ validateBucketNameMiddlewareOptions)\n/* harmony export */ });\n/* harmony import */ var _aws_sdk_util_arn_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aws-sdk/util-arn-parser */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+util-arn-parser@3.693.0/node_modules/@aws-sdk/util-arn-parser/dist-es/index.js\");\n/* harmony import */ var _bucket_endpoint_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bucket-endpoint-middleware */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/bucket-endpoint-middleware.js\");\n\n\nfunction validateBucketNameMiddleware({ bucketEndpoint }) {\n    return (next) => async (args) => {\n        const { input: { Bucket }, } = args;\n        if (!bucketEndpoint && typeof Bucket === \"string\" && !(0,_aws_sdk_util_arn_parser__WEBPACK_IMPORTED_MODULE_0__.validate)(Bucket) && Bucket.indexOf(\"/\") >= 0) {\n            const err = new Error(`Bucket name shouldn't contain '/', received '${Bucket}'`);\n            err.name = \"InvalidBucketName\";\n            throw err;\n        }\n        return next({ ...args });\n    };\n}\nconst validateBucketNameMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"VALIDATE_BUCKET_NAME\"],\n    name: \"validateBucketNameMiddleware\",\n    override: true,\n};\nconst getValidateBucketNamePlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(validateBucketNameMiddleware(options), validateBucketNameMiddlewareOptions);\n        clientStack.addRelativeTo((0,_bucket_endpoint_middleware__WEBPACK_IMPORTED_MODULE_1__.bucketEndpointMiddleware)(options), _bucket_endpoint_middleware__WEBPACK_IMPORTED_MODULE_1__.bucketEndpointMiddlewareOptions);\n    },\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy92YWxpZGF0ZS1idWNrZXQtbmFtZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFtRTtBQUNzQztBQUNsRyx3Q0FBd0MsZ0JBQWdCO0FBQy9EO0FBQ0EsZ0JBQWdCLFNBQVMsUUFBUSxJQUFJO0FBQ3JDLDhEQUE4RCxrRUFBVztBQUN6RSxrRkFBa0YsT0FBTztBQUN6RjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esa0NBQWtDLHFGQUF3QixXQUFXLHdGQUErQjtBQUNwRyxLQUFLO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xlc3Nvbi1hdXRob3JpbmcvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1zZGstczNAMy42OTMuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstczMvZGlzdC1lcy92YWxpZGF0ZS1idWNrZXQtbmFtZS5qcz81Nzg4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZhbGlkYXRlIGFzIHZhbGlkYXRlQXJuIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYXJuLXBhcnNlclwiO1xuaW1wb3J0IHsgYnVja2V0RW5kcG9pbnRNaWRkbGV3YXJlLCBidWNrZXRFbmRwb2ludE1pZGRsZXdhcmVPcHRpb25zIH0gZnJvbSBcIi4vYnVja2V0LWVuZHBvaW50LW1pZGRsZXdhcmVcIjtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUJ1Y2tldE5hbWVNaWRkbGV3YXJlKHsgYnVja2V0RW5kcG9pbnQgfSkge1xuICAgIHJldHVybiAobmV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgeyBpbnB1dDogeyBCdWNrZXQgfSwgfSA9IGFyZ3M7XG4gICAgICAgIGlmICghYnVja2V0RW5kcG9pbnQgJiYgdHlwZW9mIEJ1Y2tldCA9PT0gXCJzdHJpbmdcIiAmJiAhdmFsaWRhdGVBcm4oQnVja2V0KSAmJiBCdWNrZXQuaW5kZXhPZihcIi9cIikgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBCdWNrZXQgbmFtZSBzaG91bGRuJ3QgY29udGFpbiAnLycsIHJlY2VpdmVkICcke0J1Y2tldH0nYCk7XG4gICAgICAgICAgICBlcnIubmFtZSA9IFwiSW52YWxpZEJ1Y2tldE5hbWVcIjtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCh7IC4uLmFyZ3MgfSk7XG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUJ1Y2tldE5hbWVNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBzdGVwOiBcImluaXRpYWxpemVcIixcbiAgICB0YWdzOiBbXCJWQUxJREFURV9CVUNLRVRfTkFNRVwiXSxcbiAgICBuYW1lOiBcInZhbGlkYXRlQnVja2V0TmFtZU1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0VmFsaWRhdGVCdWNrZXROYW1lUGx1Z2luID0gKG9wdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkKHZhbGlkYXRlQnVja2V0TmFtZU1pZGRsZXdhcmUob3B0aW9ucyksIHZhbGlkYXRlQnVja2V0TmFtZU1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkUmVsYXRpdmVUbyhidWNrZXRFbmRwb2ludE1pZGRsZXdhcmUob3B0aW9ucyksIGJ1Y2tldEVuZHBvaW50TWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-sdk-s3@3.693.0/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/validate-bucket-name.js\n");

/***/ })

};
;